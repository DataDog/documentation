{{/*
  Renders Step Summary from data/synthetics/template_variables.yaml
  Usage: {{ partial "synthetics/template-variables-summary.html" . }}
*/}}

{{ $data := .Site.Data.synthetics.template_variables }}

{{ with $data.step_summary }}
<p>{{ .description | markdownify }}</p>

<p>Each step exposes the following properties: 
{{ range $idx, $prop := .step_properties }}{{ if $idx }}, {{ end }}<code>{{ $prop }}</code>{{ end }}.
</p>

<p>You can reference steps in three ways:</p>

{{ range .reference_methods }}
<h4>{{ .name }}</h4>
<p>{{ .description | markdownify }}{{ if .example }}: <code>{{ .example }}</code>{{ end }}</p>

{{ with .examples }}
<table>
  <thead>
    <tr>
      <th>Syntax</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    {{ range . }}
    <tr>
      <td><code>{{ .syntax }}</code></td>
      <td>{{ .description | markdownify }}</td>
    </tr>
    {{ end }}
  </tbody>
</table>
{{ end }}
{{ end }}

<h4>Accessing step properties</h4>
<p>Combine any reference method with a property:</p>
<ul>
{{ range .usage_examples }}
  <li><code>{{ printf "{{%s}}" .path }}</code> - {{ .description | markdownify }}</li>
{{ end }}
</ul>
{{ end }}

