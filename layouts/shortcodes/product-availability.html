{{/*  
    Uses the "products" frontmatter (list)

    *EXAMPLE* 
    products: 
        - name: "Product 1"
          url: "https://www.example.com/product-1"
          icon: "product-icon-1"
        - name: "Product 2"
          url: "https://www.example.com/product-2"
          icon: "product-icon-2"
        - name: "Product 3"
          url: "https://www.example.com/product-3"
          icon: "product-icon-3"
*/}}

<div class="product-availability container mb-3 p-0">
    <div class="d-flex">
        <strong class="p-0">{{ i18n "available_for"}}:</strong>
        <p class="mb-0 p-0">
            {{ $len := len .Page.Params.products}}
            {{ range $idx, $product := .Page.Params.products }}
                <span class="product position-relative">
                    {{ partial "icon" (dict "name" $product.icon "size" "14px")}}
                    <span>{{$product.name}}</span>
                    <a class="border border-0 stretched-link" href="{{$product.url}}"></a>
                    <span>{{ if ne $idx (sub $len 1) }}, {{ end }}</span>
                </span>
            {{ end }}
        </p>
    </div>
</div>