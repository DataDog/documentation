---
description: Datadog Agent를 데이터베이스와 통합할 때 발생하는 오버헤드에 대해 알아보세요
title: DBM Agent 통합 오버헤드
---

## 개요

Database Monitoring은 기본 Datadog Agent를 기반으로 실행되며, 시스템 부담을 최소화하기 위해 최적의 성능 설정으로 기본 구성됩니다. 하지만 데이터 수집 빈도 및 쿼리 샘플링과 같은 파라미터를 워크로드에 맞게 조정할 수 있습니다.

이 페이지에서는 Datadog Database Monitoring이 활성화된 데이터베이스에서의 통합 오버헤드 테스트 결과를 확인할 수 있습니다.

## 오버헤드 테스트 결과

{{< tabs >}}
{{% tab "Postgres" %}}
Postgres 통합 오버헤드 테스트는 Amazon EC2 머신 `c5.xlarge` 인스턴스(vCPU 4개, RAM 8GB)에서 실행되었습니다. 테스트에는 Amazon RDS `db.m5.large` 인스턴스(vCPU 2개, RAM 8GB)에서 실행되는 PostgreSQL 14.10 인스턴스가 데이터베이스로 사용되었습니다. 데이터베이스는 20개의 웨어하우스를 사용하는 TPC-C 워크로드를 실행했습니다.

| 설정                           | 수집 간격 |
| --------------------------------- | ------------------- |
| 최소 수집 간격 점검하기     | 15초                 |
| 쿼리 메트릭 수집 간격 | 10초                 |
| 쿼리 샘플 수집 간격 | 10초                 |
| 수집 간격 설정      | 600초                |
| 스키마 수집 간격        | 600초                |

* Agent 테스트 버전: `7.50.2`
* CPU: 평균 사용 CPU의 ~1%
* 메모리: ~300 MiB의 RAM 사용 (RSS 메모리)
* 네트워크 대역폭: ~30 KB/s ▼ | 30 KB/s ▲
* 데이터베이스의 Agent 쿼리 오버헤드:  ~1% CPU 시간

**참고**: 네트워크 대역폭은 Agent에서 모니터링되는 데이터베이스 및 Datadog 백엔드로 들어오고 나가는 트래픽의 합계입니다.
{{% /tab %}}

{{% tab "MySQL" %}}
MySQL 통합 오버헤드 테스트는 Amazon EC2 머신 `c5.xlarge` 인스턴스(vCPU 4개, RAM 8GB)에서 실행되었습니다. 테스트에는 `db.m5.large` 인스턴스(vCPU 2개, RAM 8GB)에서 실행되는 MySQL 8.0 인스턴스가 데이터베이스로 사용됐습니다. 데이터베이스는 20개의 웨어하우스를 사용하는 TPC-C 워크로드를 실행했습니다.

| 설정                              | 수집 간격 |
| ------------------------------------ | ------------------- |
| 최소 수집 간격 점검하기        | 15초                 |
| 쿼리 메트릭 수집 간격    | 10초                 |
| 쿼리 활동 수집 간격 | 10초                 |
| 쿼리 샘플 수집 간격    | 1s                  |
| 수집 간격 설정         | 600초                |

* Agent 테스트 버전: `7.50.2`
* CPU: 평균적으로 사용되는 CPU의 ~2%
* 메모리: ~300 MiB의 RAM 사용 (RSS 메모리)
* 네트워크 대역폭: ~40 KB/s ▼ | 30 KB/s ▲
* 데이터베이스의 Agent 쿼리 오버헤드:  ~1% CPU 시간

**참고**: 네트워크 대역폭은 Agent에서 모니터링되는 데이터베이스 및 Datadog 백엔드로 들어오고 나가는 트래픽의 합계입니다.
{{% /tab %}}

{{% tab "SQL Server" %}}
SQL Server 통합 오버헤드 테스트는 Amazon EC2 머신 `c5.xlarge` 인스턴스(vCPU 4개, RAM 8GB)에서 실행되었습니다. 테스트에는 Amazon RDS `db.m5.large` 인스턴스(vCPU 2개, RAM 8GB)에서 실행되는 SQL Server 2019 Standard Edition 인스턴스가 데이터베이스로 사용되었습니다. 데이터베이스는 20개의 웨어하우스를 사용하는 TPC-C 워크로드를 실행했습니다.

| 설정                              | 수집 간격 |
| ------------------------------------ | ------------------- |
| 최소 수집 간격 점검하기        | 15초                 |
| 쿼리 메트릭 수집 간격    | 60초                 |
| 쿼리 활동 수집 간격 | 10초                 |
| 수집 간격 설정         | 600초                |

* Agent 테스트 버전: `7.50.2`
* CPU: 평균 사용 CPU의 ~1%
* 메모리: ~300 MiB의 RAM 사용 (RSS 메모리)
* 네트워크 대역폭: ~40 KB/s ▼ | 30 KB/s ▲
* 데이터베이스의 Agent 쿼리 오버헤드:  ~1% CPU 시간

**참고**: 네트워크 대역폭은 Agent에서 모니터링되는 데이터베이스 및 Datadog 백엔드로 들어오고 나가는 트래픽의 합계입니다.
{{% /tab %}}

{{% tab "Oracle" %}}
Oracle 통합 오버헤드 테스트는 Amazon EC2 머신 `c5.xlarge` 인스턴스(vCPU 4개, RAM 8GB)에서 실행되었습니다. 테스트에는 Amazon RDS `db.m5.large` 인스턴스(vCPU 2개, RAM 8GB)에서 실행되는 Oracle 19c 인스턴스가 데이터베이스로 사용되었습니다. 데이터베이스는 20개의 웨어하우스를 사용하는 TPC-C 워크로드를 실행했습니다.

| 설정                              | 수집 간격 |
| ------------------------------------ | ------------------- |
| 최소 수집 간격 점검하기        | 10초                 |
| 쿼리 메트릭 수집 간격    | 60초                 |
| 쿼리 활동 수집 간격 | 10초                 |

* Agent Test 버전: `7.53.0`
* CPU: CPU 평균 사용량의 ~0.2%
* 메모리: ~270 MiB의 RAM 사용 (RSS 메모리)
* 네트워크 대역폭: ~6 KB/s ▼ | 4 KB/s ▲
* 데이터베이스의 Agent 쿼리 오버헤드: ~0.2% CPU 시간

**참고**: 네트워크 대역폭은 Agent에서 모니터링되는 데이터베이스 및 Datadog 백엔드로 들어오고 나가는 트래픽의 합계입니다.
{{% /tab %}}
{{< /tabs >}}