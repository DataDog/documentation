---
algolia:
  tags:
  - 커스텀 메트릭 빌링
aliases:
- /ko/integrations/faq/what-standard-integrations-emit-custom-metrics/
further_reading:
- link: /observability_pipelines/guide/custom-metrics-governance
  tag: 설명서
  text: 커스텀 메트릭 관리를 위해 가시성 파이프라인 사용
kind: 설명서
title: 커스텀 메트릭 빌링
---

메트릭이 [ {{< translate key="integration_count" >}} 개 이상의 Datadog 통합][1] 중 하나에서 제출되지 않은 경우 [커스텀 메트릭][2]<sup>[(1)](#standard-integrations)</sup>으로 간주됩니다.

**커스텀 메트릭은 (호스트 태그를 포함해) 메트릭 이름과 태그 값의 조합으로 고유하게 인식됩니다.** 일반적으로 [DogStatsD][3]을 사용하거나 [커스텀 에이전트 점검][4]을 통해 전송하는 모든 메트릭은 커스텀 메트릭입니다.

매달 청구되는 커스텀 메트릭 개수(사용량 페이지에 표시됨)는 해당 달의 매 시간 모든 별도 커스텀 메트릭의 합계를 내고 이를 해당 달의 시간 수로 나누어 월간 평균 값으로 계산됩니다.

제한 없는 메트릭TM 사용자는 사용량 페이지에서_수집_ 및 _인덱싱된_커스텀 메트릭에 대한 월별 청구 가능 볼륨을 확인할 수 있습니다. 수집 및 인덱싱된 커스텀 메트릭과 [제한 없는 메트릭TM]에 대해 자세히 알아보세요.

## 커스텀 메트릭 계산

특정 메트릭 이름과 연결된 커스텀 메트릭 수는 메트릭 [제출 유형][6]에 따라 다릅니다. 다음은 각 시나리오에 따라 커스텀 메트릭을 계산하는 방법에 대한 예시입니다.

두 호스트(`host:A`, `host:B`)에서 `request.Latency` 메트릭을 제출한다고 가정합니다. 이 메트릭은 엔드포인트 요청의 지연 시간을 측정합니다. 이 메트릭은 다음 두 개 태그 키로 제출합니다.

- `endpoint`, `endpoint:X` 또는 `endpoint:Y` 값입니다.
- `status`, `status:200` 또는 `status:400` 값입니다.

데이터에서 양 호스트가  `endpoint:X`를 지원하지만 `host:B`에서만 실패한다고 가정합니다. 또한, `endpoint:Y`에 대한 요청이 항상 성공하고 아래에서 표시된 것처럼 `host:B`에만 표시된다고 가정합니다.

{{< img src="account_management/billing/custom_metrics/request_latency.png" alt="Request latency" style="width:80%;">}}

{{< tabs >}}
{{% tab "Count, Rate"%}}

[개수][1] 및 [비율][2]의 커스텀 메트릭 수는 동일한 논리로 계산됩니다.

이 태깅 체계에서 비율 메트릭에 대해 제출된 고유한 태그 값 조합 개수는 **4**입니다.

- `host:A`, `endpoint:X`, `status:200`
- `host:B`, `endpoint:X`, `status:200`
- `host:B`, `endpoint:X`, `status:400`
- `host:B`, `endpoint:Y`, `status:200`

이로서 `request.Latency`가 **4개의 커스텀 메트릭**을 보고합니다.

### 태그 추가 효과

태그를 추가하면 더 많은 커스텀 메트릭이 생성되지 **않을 수** 있습니다. 커스텀 메트릭 개수는 일반적으로 가장 세분화된 태그를 사용하여 조정됩니다. 미국 온도를 측정 중이며 국가 및 지역별로 `temperature` 메트릭을 태깅했다고 가정해 봅니다. 다음을 Datadog에 제출하게 됩니다.

| 메트릭 이름   | 태그 값                         |
|---------------|------------------------------------|
| `temperature` | `country:USA`, `region: Northeast` |
| `temperature` | `country:USA`, `region: Southeast` |

`NYC`, `Miami` 및 `Orlando`라는이 세 가지 값을 가진 태그를 추가해 보는 것을 가정합니다. 이 태그를 추가하면 아래와 같이 데이터세트에 더 많은 세부 정보를 제공하므로 커스텀 메트릭 개수가 증가합니다:

| 메트릭 이름   | 테그 값                                          |
|---------------|-----------------------------------------------------|
| `temperature` | `country:USA`, `region: Northeast`, `city: NYC`     |
| `temperature` | `country:USA`, `region: Southeast`, `city: Orlando` |
| `temperature` | `country:USA`, `region: Southeast`, `city: Miami`   |

가장 세분화된 태그 `city`가 있는 `temperature` 척도에서 보고하는 커스텀 메트릭 개수입니다.

온도 메트릭을 `state`(값: `NY` 및 `Florida`)로 태그하길 원한다고 가정해 봅니다. 즉, `country`, `region`, `state` 및 `city` 태그로 온도를 태깅하는 것입니다. 상태 태그를 추가하면 이미 도시 태그별로 제공된 데이터세트의 세분화 수준이 높아지지 않습니다. 

플로리다의 온도를 얻으려면 다음 커스텀 메트릭을 결합할 수 있습니다.

- `temperature{country:USA, state:Florida, city:Orlando}`
- `temperature{country:USA, state:Florida, city:Miami}`

**참고**: 태그 값 순서를 다시 지정해도 고유성이 늘어나지 않습니다. 다음 조합은 동일한 커스텀 메트릭입니다.

- `temperature{country:USA, state:Florida, city:Miami}`
- `temperature{state:Florida, city:Miami, country:USA}`

### 제한 없는 메트릭TM을 사용한 태그 및 집계 설정

커스텀 메트릭 볼륨은 [제한 없는 메트릭TM][3]을 사용한 태그와 집계 설정에 영향을 받을 수 있습니다. 제한없는 메트릭TM은 인덱싱 비용과 수집 비용을 구분합니다. 그러므로 모든 데이터(모두 수집됨)를 Datadog에 계속 전송하고 Datadog 플랫폼에서 쿼리할 수 있도록 남길 태그 허용 목록을 지정할 수 있습니다. 이제 설정된 메트릭에 대해 Datadog에서 수집하는 데이터 볼륨이 인덱싱된 볼륨(더 작은 크기)과 다름을 고려하여, 사용량 페이지와 메트릭 요약 페이지에 두 개의 별도 볼륨이 표시됩니다.

- **수집된 커스텀 메트릭**: 수집된 모든 태그(코드로 전송) 기준 원래 커스텀 메트릭 볼륨입니다.
- **인덱싱된 커스텀 메트릭**: Datadog 플랫폼에서 쿼리 가능한 커스텀 메트릭 볼륨(제한 없는 메트릭 수집TM 설정 기준)입니다.

**참고: 설정된 메트릭만 수집된 커스텀 메트릭 볼륨으로 간주됩니다.** 제한없는 메트릭 수집TM으로 메트릭이 설정되지 않은 경우, 인덱싱된 커스텀 메트릭 볼륨에 대해서만 요금이 부과됩니다.

#### 수집된 커스텀 메트릭과 인덱싱된 커스텀 메트릭에 대해 요금이 부과되는 시점은 언제인가요?
제한 없는 메트릭TM으로 설정되지 않은 모든 메트릭의 경우, 인덱싱된 커스텀 메트릭에 대한 요금을 지불해야 합니다.

|                                      | 인덱싱된 커스텀 메트릭<br>(시간당 월평균 커스텀 메트릭 수 기준)                                        |
|--------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| 계정 할당                    | - Pro: 호스트당 인덱싱된 커스텀 메트릭 100개 <br>- 엔터프라이즈: 호스트당 인덱싱된 커스텀 메트릭 200개                             |
| 계정 할당보다 큰 사용량 | 계정 할당을 통해 인덱싱된 각 100개의 커스텀 메트릭에 대해 현재 계약에 지정된 금액을 지불합니다. |

제한 없는 메트릭TM(태그/집계 설정됨)으로 설정된 메트릭의 경우 수집된 커스텀 메트릭과 인덱싱된 커스텀 메트릭에 대한 금액을 지불합니다.

|                                      | 수집된 커스텀 메트릭                                                                           | 인덱싱된 커스텀 메트릭                                                                                                        |
|--------------------------------------|---------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| 계정 할당                    | - Pro: 호스트당 인덱싱된 커스텀 메트릭 100개 <br>- 엔터프라이즈: 호스트당 인덱싱된 커스텀 메트릭 200개 | - Pro: 호스트당 인덱싱된 커스텀 메트릭 100개 <br>- 엔터프라이즈: 호스트당 인덱싱된 커스텀 메트릭 200개                               |
| 계정 할당보다 큰 사용량 | 계정 할당을 통해 수집된 100개의 커스텀 메트릭마다 $0.10을 지불합니다.                   | 계정 할당을 통해 인덱싱된 각 100개의 커스텀 메트릭마다 현재 계약에 지정된 금액을 지불합니다. |

제한 없는 메트릭TM을 사용하여 `request.Latency` 메트릭의 크기를 줄여보는 상황을 가정해 봅니다. `endpoint` 및 `status` 태그만 유지할 것입니다. 그러면 다음과 같은 세 개의 고유한 태그 조합이 생성됩니다.

- `endpoint:X`, `status:200`
- `endpoint:X`, `status:400`
- `endpoint:Y`, `status:200`

태그 설정 결과, `request.Latency`가 총 **3개의 인덱싱된 커스텀 메트릭**을 보고합니다. 이 메트릭에 전송된 원래 태그 기준, 원래 **수집된** `request.Latency` 커스텀 메트릭 볼륨은 **4개의 수집된 커스텀 메트릭**입니다.

기본적으로 DataDog는 설정된 메트릭의 쿼리의 수학적 정확도를 유지하기 위해 메트릭 유형에 따라 가장 자주 쿼리되는 집계 조합을 저장합니다.

- 설정된 개수/비율은 `SUM` 시간/공간 집계를 사용해 쿼리할 수 있습니다.

쿼리에 필요하다면 더 많은 집계를 사용하도록 선택할 수 있습니다. 인덱싱된 커스텀 메트릭 수는 활성화된 집계 수에 따라 증가합니다. 

[제한 없는 메트릭TM][3]에 대해 자세히 알아보세요.

[1]: /ko/metrics/types/?tab=count#metric-types
[2]: /ko/metrics/types/?tab=rate#metric-types
[3]: /ko/metrics/metrics-without-limits
{{% /tab %}}
{{% tab "Gauge" %}}
이 태그 체계로 GAUGE 메트릭에 제출된 고유한 태그 값의 조합 수는 **4**입니다.

- `host:A`, `endpoint:X`, `status:200`
- `host:B`, `endpoint:X`, `status:200`
- `host:B`, `endpoint:X`, `status:400`
- `host:B`, `endpoint:Y`, `status:200`

이로서 `request.Latency`가 **4개의 커스텀 메트릭**을 보고합니다.

### 태그 추가 효과

태그를 추가하면 더 많은 커스텀 메트릭이 생성되지 **않을 수** 있습니다. 커스텀 메트릭 개수는 일반적으로 가장 세분화된 태그를 사용하여 조정됩니다. 미국 온도를 측정 중이며 국가 및 지역별로 `temperature` 메트릭을 태깅했다고 가정해 봅니다. 다음을 Datadog에 제출하게 됩니다.

| 메트릭 이름   | 태그 값                         |
|---------------|------------------------------------|
| `temperature` | `country:USA`, `region: Northeast` |
| `temperature` | `country:USA`, `region: Southeast` |

`NYC`, `Miami` 및 `Orlando`라는이 세 가지 값을 가진 태그를 추가해 보는 것을 가정합니다. 이 태그를 추가하면 아래와 같이 데이터세트에 더 많은 세부 정보를 제공하므로 커스텀 메트릭 개수가 증가합니다:

| 메트릭 이름   | 태그 값                                          |
|---------------|-----------------------------------------------------|
| `temperature` | `country:USA`, `region: Northeast`, `city: NYC`     |
| `temperature` | `country:USA`, `region: Southeast`, `city: Orlando` |
| `temperature` | `country:USA`, `region: Southeast`, `city: Miami`   |

가장 세분화된 태그 `city`를 사용해 `temperature` 스케일에서 보고되는 커스텀 메트릭 개수입니다.

온도 메트릭을 `state`(값: `NY` 및 `Florida`)로 태그하길 원한다고 가정해 봅니다. 즉, `country`, `region`, `state` 및 `city` 태그로 온도를 태깅하는 것입니다. 상태 태그를 추가하면 이미 도시 태그별로 제공된 데이터세트의 세분화 수준이 높아지지 않습니다. 

플로리다의 온도를 얻으려면 다음 커스텀 메트릭을 결합해야 합니다.

- `temperature{country:USA, state:Florida, city:Orlando}`
- `temperature{country:USA, state:Florida, city:Miami}`

**참고**: 태그 값 순서를 다시 지정해도 고유성이 늘어나지 않습니다. 다음 조합은 동일한 커스텀 메트릭입니다.

- `temperature{country:USA, state:Florida, city:Miami}`
- `temperature{state:Florida, city:Miami, country:USA}`

### 제한 없는 메트릭TM을 사용한 태그 및 집계 설정

커스텀 메트릭 볼륨은 [제한 없는 메트릭TM][3]을 사용한 태그와 집계 설정에 영향을 받을 수 있습니다. 제한없는 메트릭TM은 인덱싱 비용과 수집 비용을 구분합니다. 그러므로 모든 데이터(모두 수집됨)를 Datadog에 계속 전송하고 Datadog 플랫폼에서 쿼리할 수 있도록 남길 태그 허용 목록을 지정할 수 있습니다. 이제 설정된 메트릭에 대해 Datadog에서 수집하는 데이터 볼륨이 인덱싱된 볼륨(더 작은 크기)과 다름을 고려하여, 사용량 페이지와 메트릭 요약 페이지에 두 개의 별도 볼륨이 표시됩니다.

- **수집된 커스텀 메트릭**: 수집된 모든 태그(코드로 전송) 기준 원래 커스텀 메트릭 볼륨입니다.
- **인덱싱된 커스텀 메트릭**: Datadog 플랫폼에서 쿼리 가능한 커스텀 메트릭 볼륨(제한 없는 메트릭 수집TM 설정 기준)입니다.

**참고: 설정된 메트릭만 수집된 커스텀 메트릭 볼륨으로 간주됩니다.** 제한없는 메트릭 수집TM으로 메트릭이 설정되지 않은 경우, 인덱싱된 커스텀 메트릭 볼륨에 대해서만 요금이 부과됩니다.

#### 수집된 커스텀 메트릭과 인덱싱된 커스텀 메트릭에 요금이 부과되는 시점은 언제인가요?
제한 없는 메트릭TM으로 설정되지 않은 메트릭의 경우, 인덱싱된 커스텀 메트릭에 요금을 지불해야 합니다.

|                                      | 인덱싱된 커스텀 메트릭<br>(시간당 월평균 커스텀 메트릭 수 기준)                                        |
|--------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| 계정 할당                    | - Pro: 호스트당 인덱싱된 커스텀 메트릭 100개 <br>- 엔터프라이즈: 호스트당 인덱싱된 커스텀 메트릭 200개                             |
| 계정 할당보다 큰 사용량 | 계정 할당을 통해 인덱싱된 각 100개의 커스텀 메트릭마다 현재 계약에 지정된 금액을 지불합니다. |

제한 없는 메트릭TM(태그/집계 설정됨)으로 설정된 메트릭의 경우 수집된 커스텀 메트릭과 인덱싱된 커스텀 메트릭에 금액을 지불합니다.

|                                      | 수집된 커스텀 메트릭                                                                           | 인덱싱된 커스텀 메트릭                                                                                                        |
|--------------------------------------|---------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| 계정 할당                    | - Pro: 호스트당 인덱싱된 커스텀 메트릭 100개 <br>- 엔터프라이즈: 호스트당 인덱싱된 커스텀 메트릭 200개 | - Pro: 호스트당 인덱싱된 커스텀 메트릭 100개 <br>- 엔터프라이즈: 호스트당 인덱싱된 커스텀 메트릭 200개                               |
| 계정 할당보다 큰 사용량 | 계정 할당을 통해 수집된 100개의 커스텀 메트릭마다 $0.10을 지불합니다.                   | 계정 할당을 통해 인덱싱된 각 100개의 커스텀 메트릭마다 현재 계약에 지정된 금액을 지불합니다. |

기본적으로 DataDog는 구성된 메트릭의 쿼리의 수학적 정확도를 유지하기 위해 메트릭 유형에 따라 가장 자주 쿼리되는 집계 조합을 저장합니다:

- 설정된 게이지는 `AVG/AVG` 시간/공간 집계에서 쿼리할 수 있습니다.

쿼리에 필요하다면 더 많은 집계를 사용하도록 선택할 수 있습니다. 인덱싱된 커스텀 메트릭 수는 활성화된 집계 수에 따라 증가합니다. 

[제한 없는 메트릭TM][1]에 대해 자세히 알아보세요.

[1]: /ko/metrics/metrics-without-limits
{{% /tab %}}
{{% tab "히스토그램" %}}

**히스토그램 메트릭은  메트릭 이름과 태그 값이 고유 조합마다 기본적으로 5개의 커스텀 메트릭을 생성합니다. ** 이 메트릭은 에이전트 기준 집계 `max`, `median`, `avg`, `95pc`, `count`를 지원합니다. [히스토그램 메트릭 유형에 대해 자세히 알아보세요][1].

이 태그 지정 체계가 있는 히스토그램 메트릭에 대해 제출된 고유 태그 값 조합의 수는 **4**입니다:

- `host:A`, `endpoint:X`, `status:200`
- `host:B`, `endpoint:X`, `status:200`
- `host:B`, `endpoint:X`, `status:400`
- `host:B`, `endpoint:Y`, `status:200`

기본적으로 에이전트는 원래 4개의 고유한 태그 값 조합마다 `avg`, `count`, `median`, `95percentile`, `max` 커스텀 메트릭 5개를 계정에 생성합니다[각 에이전트 기준 집계가 활성화된 경우][2]. 결국, `request.Latency`는 **4\*5 = 20개 커스텀 메트릭을 보고합니다.**

**참고**: 히스토그램 메트릭에 집계를 추가하면 보고되는 고유한 커스텀 메트릭 개수가 증가합니다. 집계를 제거하면 보고되는 커스텀 메트릭 개수가 감소합니다.

- [datadog.yaml 설정 파일][3]에 있는 `histogram_aggregates` 파라미터를 사용해 Datadog에 전송하려는 집계를 설정합니다. 기본적으로 `max`. `median`, `avg`, `count` 집계만 Datadog에 전송됩니다. 원하는 경우 `sum`과 `min`을 설정할 수도 있습니다.
- [datadog.yaml 설정 파일][3]에서 `histogram_percentiles` 파라미터를 사용해 Datadog에 전송하려는 백분위수 집계를 설정합니다. 기본적으로 95번째 백분위수인 `95percentile`만 Datadog에 전송할 수 있습니다.


[1]: /ko/metrics/types/?tab=histogram#metric-types
[2]: /ko/metrics/types/?tab=histogram#definition
[3]: /ko/agent/configuration/agent-configuration-files/#agent-main-configuration-file
{{% /tab %}}
{{% tab "분포" %}}

**분포 메트릭은 기본적으로 메트릭 이름 및 태그 값 고유 조합마다 5개의 커스텀 메트릭을 생성합니다.** 이를 통해 값에 대한 전 세계 통계 분포를 표시합니다. 이러한 5개의 커스텀 메트릭은 서버 기준 `count`, `sum`, `min`, `max`, `avg` 집계를 보여줍니다. [분포 메트릭 유형에  대해 자세히 알아보세요][1].

이 태그 지정 체계가 있는 분포 메트릭에 제출된 고유 태그 값 조합의 수는 **4**입니다.

- `host:A`, `endpoint:X`, `status:200`
- `host:B`, `endpoint:X`, `status:200`
- `host:B`, `endpoint:X`, `status:400`
- `host:B`, `endpoint:Y`, `status:200`

[분포 메트릭][1]의 커스텀 메트릭 개수는 메트릭 이름 및 태그 값 고유 조합의 5배입니다. 결국 `request.Latency`는 **5\*4 = 20개 커스텀 메트릭**을 보고합니다.

##### 백분위수 집계 추가

분포 메트릭에 백분위수 집계(`p50`, `p75`, `p90`, `p95` 및 `p99`)를 포함할 수 있습니다. 이러한 추가 백분위수 집계를 포함하면 메트릭 이름 및 태그 값(**5\*4 = 20개 커스텀 메트릭**) 고유 조합의 5배에 해당하는 추가 볼륨이 생성됩니다. 그러므로 백분위수 집계를 사용한 이 분포 메트릭에 따른 커스텀 메트릭 총 수는 **2 * (5\*4) = 40개 커스텀 메트릭**입니다.

이 표는 모든 분포 메트릭에 백분위수 집계를 추가할 때의 결과를 간략히 보여줍니다.

| 메트릭                                                                                   | 청구 가능한 커스텀 메트릭 개수 |
|-------------------------------------------------------------------------------------------|-----------------------------------|
| 기준 분포(count, sum, min, max, avg)에 따른 커스텀 메트릭 개수         | `5*(tag value combinations)`      |
| 백분위수 집계(p50, p75, p90, p95, p99)에 따른 커스텀 메트릭 개수 | `5*(tag value combinations)`      |
| 총계                                                                                     | `2*5(tag value combinations)`     |

### 제한 없는 메트릭TM을 사용한 태그 설정

사용자 정의 메트릭 볼륨은 [제한 없는 메트릭TM][2]을 사용해 태그 및 집계를 구성함으로써 영향을 받을 수 있습니다. 제한TM이 없는 메트릭은 모든 데이터(모든 데이터가 수집됨)를 DataDog에 계속 전송하고 DataDog 플랫폼에서 쿼리 가능 상태로 유지할 태그의 허용 목록을 지정할 수 있습니다. 구성된 메트릭에 DataDog가 현재 수집하는 데이터 볼륨이 인덱싱한 나머지 볼륨보다 작다는 점을 감안할 때 사용 페이지와 메트릭 요약 페이지에 두 개의 다른 볼륨이 표시됩니다.

- **수집된 커스텀 메트릭**: 수집된 모든 태그를 기반으로 한 커스텀 메트릭의 원래 볼륨(코드를 통해 전송됨)
- **인덱싱된 커스텀 메트릭**: Datadog 플랫폼에서 쿼리 가능한 커스텀 메트릭 볼륨(제한 없는 메트릭 수집TM 설정 기준)입니다.

**참고: 설정된 메트릭만 수집된 커스텀 메트릭 볼륨으로 간주합니다.** 제한없는 메트릭 수집TM으로 메트릭이 설정되지 않은 경우, 인덱싱된 커스텀 메트릭 볼륨에 대해서만 요금이 부과됩니다.

#### 수집된 커스텀 메트릭과 인덱싱된 커스텀 메트릭은 언제 청구되나요?
제한 없는 메트릭TM으로 구성되지 않은 메트릭의 경우 인덱싱된 커스텀 메트릭에 비용을 지불합니다.

|                                      | 인덱싱된 커스텀 메트릭<br>(시간당 월평균 커스텀 메트릭 수 기준)                                        |
|--------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| 계정 할당                    | - Pro: 호스트당 인덱싱된 커스텀 메트릭 100개 <br>- 엔터프라이즈: 호스트당 인덱싱된 커스텀 메트릭 200개                             |
| 계정 할당보다 사용량이 많음 | 계정 할당을 통해 인덱싱된 각 100개의 커스텀 메트릭에 현재 계약에 지정된 금액을 지불합니다. |

제한 없는 메트릭TM(태그/집약이 구성됨)으로 구성된 메트릭의 경우 수집된 커스텀 메트릭과 인덱싱된 커스텀 메트릭에 비용을 지불합니다.

|                                      | 수집된 커스텀 메트릭                                                                           | 인덱싱된 커스텀 메트릭                                                                                                        |
|--------------------------------------|---------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| 계정 할당                    | - Pro: 호스트당 100개의 커스텀 메트릭 수집 <br>- 엔터프라이즈: 호스트당 200개의 커스텀 메트릭 수집 | - Pro: 호스트당 인덱싱된 커스텀 메트릭 100개 <br>- 엔터프라이즈: 호스트당 인덱싱된 커스텀 메트릭 200개                               |
| 계정 할당보다 사용량이 많음 | 계정 할당을 통해 수집된 100개의 커스텀 메트릭에 $0.10을 지불합니다.                   | 계정 할당을 통해 인덱싱된 각 100개의 커스텀 메트릭에 현재 계약에 지정된 금액을 지불합니다. |

예를 들어 `request.Latency` 메트릭과 연결된 `endpoint`와 `status` 메트릭만 보관하고자 하는 경우, 다음 세 가지 고유한 태그 조합이 생성됩니다.

- `endpoint:X`, `status:200`
- `endpoint:X`, `status:400`
- `endpoint:Y`, `status:200`

[분포 메트릭][1]의 커스텀 메트릭 수는 메트릭 이름과 태그 값의 고유 조합의 5배입니다. 태그 사용자 지정 결과, `request.Latency`는 총 **5\*3 = 15개의 인덱싱된 커스텀 메트릭**을 보고합니다. 이 메트릭으로 전송된 원래 태그를 기준으로 원래 **수집된** `request.Latency` 커스텀 메트릭 볼륨은 **수집된 커스텀 메트릭 20개**입니다.

[제한 없는 메트릭TM][2]에 대해 자세히 알아보세요.

[1]: /ko/metrics/types/?tab=distribution#definition
[2]: /ko/metrics/metrics-without-limits
{{% /tab %}}
{{< /tabs >}}

## 커스텀 메트릭 추적

관리 사용자([데이터독 관리자 역할][7] 포함)는 시간당 **수집되고** **인덱싱된** 커스텀 메트릭의 월평균 수를 확인할 수 있습니다. 상위 커스텀 메트릭 표에는 [사용 세부 정보 페이지][8]에서 **인덱싱된** 커스텀 메트릭의 평균 수도 나와 있습니다. 자세한 내용은 [사용 세부 정보][9] 문서를 참고하세요.

특정 메트릭 이름의 커스텀 메트릭 수를 보다 실시간으로 추적하려면 [Metrics Summary] 페이지[10]에서 메트릭 이름을 클릭하세요. 메트릭의 세부 정보 측면 패널에서 **수집된** 커스텀 메트릭 및 **인덱싱된** 커스텀 메트릭 수를 볼 수 있습니다. 
{{< img src=account_management/billing/custom_metrics/mwl_sidepanel_ingested.jpg" alt="Metrics Summary 측면 패널" style="width:80%;">}}


## 할당

Datadog 가격표에 따라 특정 수량의 **수집되고** **인덱싱된** 커스텀 메트릭이 할당됩니다.

- Pro: 호스트당 100개의 수집된 커스텀 메트릭과 호스트당 100개의 인덱싱된 커스텀 메트릭
- 엔터프라이즈: 호스트당 200개의 수집된 커스텀 메트릭과 호스트당 200개의 인덱싱된 커스텀 메트릭

이 할당은 전체 인프라스트럭처에서 계산됩니다. 예를 들어 Pro를 사용 중이고 호스트 3개에 라이센스가 부여된 경우 300개의 인덱싱된 커스텀 메트릭이 할당됩니다. 300개의 인덱싱된 커스텀 메트릭은 각 호스트에서 동일하게 분할될 수도 있고 300개의 인덱싱된 메트릭을 모두 단일 호스트에서 사용할 수도 있습니다. 이 예시를 사용해 할당된 커스텀 메트릭 수를 초과하지 않는 시나리오를 아래 그래프에서 볼 수 있습니다.

{{< img src="account_management/metrics/custom_metrics/host_custom_billing.png" alt="커스텀 메트릭 할당">}}

청구 가능하고 인덱싱된 커스텀 메트릭 수는 주어진 한 달 동안 시간당(모든 유료 호스트에서) 커스텀 메트릭의 평균 수를 기준으로 합니다. 청구 가능한 수집 커스텀 메트릭 수는 제한 없는 메트릭TM을 사용해 메트릭을 구성한 경우에만 증가합니다. [영업][11]이나 [고객 성공][12] 관리자에게 문의해 계정과 관련한 커스텀 메트릭에 대해 논의하거나 추가 커스텀 메트릭 패키지를 구입하세요.

## 표준 통합

다음 표준 통합에서 커스텀 메트릭을 만들 수 있습니다.

| 통합 종류                           | 통합                                                                       |
|------------------------------------------------|------------------------------------------------------------------------------------|
| 커스텀 메트릭 기본 제한 값은 350개입니다.      | [Active MQ XML] [13] / [Go-Expvar] [14] / [Java-JMX] [15]                              |
| 커스텀 메트릭 수집에는 기본 제한 값이 없습니다. | [Nagios][16] /[PDH Check][17] /[OpenMetrics][18] /[[Windows 성능 카운터][19] /[WMI][20] /[Prometheus][21] |
| 커스텀 메트릭을 수집하도록 구성할 수 있습니다.   | [MySQL][22] /[Oracle][23] /[Postgres][24] /[SQL Server][25]                        |
| 클라우드 통합에서 전송된 커스텀 메트릭    | [AWS][26]                                                                          |

## 트러블슈팅

기술과 관련한 질문이 있으면 [Datadog 지원팀][27]에 문의하세요.

가격과 관련한 질문은 [고객 성공][12] 관리자에게 문의하세요.

## 참고 자료

{{< partial name="whats-next/whats-next.html" >}}

[1]: /ko/integrations/
[2]: /ko/metrics/custom_metrics/
[3]: /ko/metrics/custom_metrics/dogstatsd_metrics_submission/
[4]: /ko/metrics/custom_metrics/agent_metrics_submission/
[5]: /ko/metrics/metrics-without-limits
[6]: /ko/metrics/types/#metric-types
[7]: /ko/account_management/users/default_roles/
[8]: https://app.datadoghq.com/billing/usage
[9]: /ko/account_management/plan_and_usage/usage_details/
[10]: https://app.datadoghq.com/metric/summary
[11]: mailto:sales@datadoghq.com
[12]: mailto:success@datadoghq.com
[13]: /ko/integrations/activemq/#activemq-xml-integration
[14]: /ko/integrations/go_expvar/
[15]: /ko/integrations/java/
[16]: /ko/integrations/nagios/
[17]: /ko/integrations/pdh_check/
[18]: /ko/integrations/openmetrics/
[19]: /ko/integrations/windows_performance_counters/
[20]: /ko/integrations/wmi_check/
[21]: /ko/integrations/prometheus
[22]: /ko/integrations/mysql/
[23]: /ko/integrations/oracle/
[24]: /ko/integrations/postgres/
[25]: /ko/integrations/sqlserver/
[26]: /ko/integrations/amazon_web_services/
[27]: /ko/help/