---
aliases:
- /ko/graphing/faq/interpolation-the-fill-modifier-explained
- /ko/dashboards/faq/interpolation-the-fill-modifier-explained
further_reading:
- link: /dashboards/functions/interpolation/
  tag: 설명서
  text: 보간 함수에 대해 자세히 알아보기
title: 보간 및 채우기 한정자
---

{{< img src="metrics/guide/graph_fill_example.png" alt="그래프 옵션에서 Fill() 함수" style="width:100%;" >}}

## 보간을 사용하는 이유는 무엇인가요?

보간은 메트릭 시리즈의 격차가 클 경우에 해당 격차를 임의로 채우는 것이 아니라, 여러 시리즈를 정렬하여 소스 전반에서 집계를 수행할 수 있도록 합니다.

Datadog의 시간 그래프화 함수 대부분은 개별 소스의 데이터를 한 줄로 합쳐서 그래프에 표시합니다. 그러나 개별 소스가 동시에, 동일한 빈도로 데이터를 제출하지 않을 수도 있습니다.

```text
net.bytes_rcvd    |  3:00:00  3:00:10  3:00:20  3:00:30  3:00:40 ...
------------------+-------------------------------------------------
1: host:A,env:prod|    15                         25
2: host:B,env:test|             10                         40
------------------+-------------------------------------------------
    sum (1+2)     |    15?      10?               25?      40?
```

위의 예시는 소스가 자연스럽게 정렬되지 않았기에 소스를 직접 병합하면 터무니없는 결과가 나옵니다. 보간은 계산과 관련된 값만을 제공하여 이러한 문제를 해결합니다.

```text
net.bytes_rcvd    |  3:00:00  3:00:10  3:00:20  3:00:30  3:00:40 ...
------------------+-------------------------------------------------
1: host:A,env:prod|    15       18.3              25        X
2: host:B,env:test|     Y       10                30       40
------------------+-------------------------------------------------
    sum (1+2)     |   15 + Y    28.3              55       40 + X
```

여기서 X와 Y는 표시된 간격 전후의 데이터를 활용해 보간됩니다.

## 어떤 경우에 보간이 활성화되나요?

그래프 쿼리에 해당하는 소스가 두 개 이상일 때 보간이 실행됩니다. 다음 예시를 참고하세요.

* 공간 집계(`avg:system.cpu.user{env:prod}`)를 사용하는 경우, `env:prod` 태그가 있는 호스트가 두 개 이상이면Datadog에서 보간을 사용해 시간 경과에 따른 평균을 계산합니다.
* 그룹 쿼리(`net.bytes_rcvd{*} by {host}`)를 사용하는 경우, 소스 전반에 걸친 계산을 하지 않습니다. 그러나 관련된 시리즈를 제공하면 그래프 선 위에 마우스를 올려 비교하기가 더 쉬워집니다.

하나의 소스가 제출한 하나의 메트릭을 그래프화할 때는 보간을 할 필요가 없습니다(예: `avg:net.bytes_rcvd{host:a}`의 경우 `host:a`가 항상 동일한 태그가 있는 메트릭 `net.bytes_rcvd`을 전송)

`avg:system.cpu.user{env:prod},avg:system.cpu.user{env:dev}`와 같은 다중 파트 쿼리는 보간되지 않습니다.

## 보간을 제어하는 방법

모든 메트릭 유형에서 기본 보간은 선형이며. 실제 샘플 후 최대 5분까지 실행됩니다. [메트릭 유형][1]에서 `.as_count()` 및 `.as_rate()` 한정자를 사용하면 보간이 비활성화되며, 이 경우 게이지 유형 메트릭은 제외됩니다. 자세한 내용은 [메트릭 유형 한정자][2]를 참조하세요.

`.fill()` 한정자는 다음 보간 파라미터를 제어합니다.

| 한정자          | 설명                                                          |
|-------------------|----------------------------------------------------------------------|
| `fill(linear, X)` | 실제 샘플 후 최대 X초까지 선형 보간 작업을 실행합니다. |
| `fill(last, X)`   | 마지막 샘플 값을 최대 X초까지 복제합니다.                       |
| `fill(zero, X)`   | 보간 작업이 최대 X초까지 필요한 부분에 0을 삽입합니다.            |
| `fill(null, X)`   | 보간을 비활성화합니다. X값은 관계 없습니다.               |

## FAQ

### 메트릭 격차가 있는데 fill(zero) 함수가 작동하지 않고, 그래프에 긴 직선이 사라지지 않습니다.
그래프는 선으로 연결된 점 데이터의 연속일 뿐이므로 데이터가 없는 긴 구간은 긴 직선으로 변환되며, 값을 채우기 위한 보간 작업이 필요하지 않습니다. 보간은 집계 및 다중 라인 그래프를 만들기 위해 시리즈를 정렬하는 작업입니다.

반면에 모니터는 타임 프레임 반영을 사용해 보간된 값을 평가하고 평균을 계산합니다.

### 보간법 선택하기
보통 기본 보간법(메트릭 유형에 따라 선택됨)이 적합하지만 때로는 이런 기본값을 재정의하는 것이 바람직할 수도 있습니다.

선형 보간은 동일한 소스에서 꾸준히 보고되는 메트릭에 적합합니다. 희소 메트릭 또는 시간의 경과에 따라 다양한 소스에서 보고되는 메트릭의 경우 보간을 비활성화하는 것이 더 바람직한 경우가 많습니다. 이는 측정 대상의 값이 변경될 때만 데이터 포인트를 전송하는 경우에 적절한 선택일 것입니다.

Null을 사용하면 마지막 실제 값 이후 5분 동안 보간된 값이 그래프에 표시되지 않습니다.

## 참고 자료

{{< partial name="whats-next/whats-next.html" >}}

[1]: /ko/metrics/types/
[2]: /ko/metrics/custom_metrics/type_modifiers/?tab=gauge#in-application-modifiers