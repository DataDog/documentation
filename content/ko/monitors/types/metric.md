---
aliases:
- /ko/monitors/monitor_types/metric
- /ko/monitors/faq/what-is-the-do-not-require-a-full-window-of-data-for-evaluation-monitor-parameter
- /ko/monitors/create/types/metric
description: 메트릭 값을 사용자 정의 임계값과 비교하기
further_reading:
- link: /monitors/notify/
  tag: 설명서
  text: Configure your monitor notifications
- link: /monitors/downtimes/
  tag: 설명서
  text: Schedule a downtime to mute a monitor
- link: /monitors/status/
  tag: 설명서
  text: 모니터 상태를 확인하세요
- link: /monitors/types/change-alert
  tag: 설명서
  text: 변경 알림 모니터 문제 해결
title: Metric Monitor
---

## 개요

메트릭 모니터는 지속적인 데이터 스트림에 유용합니다. Datadog으로 전송된 모든 메트릭은 지정된 기간에 임계값을 초과할 경우 알림을 전송합니다.

Datadog에서 메트릭 모니터를 생성하려면 [**Monitors > New Monitor**][1]로 이동하여 **Metric** Monitor Type을 선택합니다.

## 탐지 방법 선택

{{< tabs >}}
{{% tab "Threshold" %}}

임계값 알림은 메트릭 값을 정적 임계값과 비교합니다.

각 알림 평가에서 Datadog은 선택한 기간 동안의 평균, 최소, 최대 또는 합계를 계산하여 임계값보다 높거나, 낮거나, 같거나 같지 않은지 확인합니다. 이는 예상 값을 알고 있는 표준 알림 사례용입니다. [배포 메트릭 유형][1]은 선택한 기간 동안 백분위수를 계산하는 추가 임계값 옵션을 제공해 드립니다.

자세한 내용은 [알림 조건 설정](#set-alert-conditions) 섹션을 참조하세요.

[1]: /ko/metrics/distributions/
{{% /tab %}}
{{% tab "Change" %}}

변경 알림은 지정된 임계값에 대해 `N`분 전 값과 현재 값 사이의 절대 또는 상대(%) 변화를 비교합니다. 비교되는 데이터 포인트는 단일 포인트가 아니라 *메트릭 정의* 섹션의 파라미터를 사용하여 컴퓨팅됩니다.

각 알림 평가에서 Datadog은 `N`분 전 값과 현재 값 사이의 원시 차이값(양수 또는 음수 값)을 계산한 다음 선택한 기간 동안의 평균/최소/최대/합계를 계산합니다. 연산된 시계열 값이 임계값을 넘으면 알림이 트리거됩니다.

이러한 유형의 알림은 예상치 못한 임계값이 없을 때 메트릭의 급등, 급락 또는 느린 변화를 추적하는 데 유용합니다.

자세한 내용은 [알림 모니터 변경][1] 지침을 참조하세요.

[1]: /ko/monitors/types/change-alert/
{{% /tab %}}
{{% tab "Anomaly" %}}

이상 탐지 알림은 과거 동작을 활용하여 메트릭이 비정상적으로 작동하는 시점을 감지합니다.

이상 알림은 과거를 기준으로 시계열의 예상 값 범위를 계산합니다. 이상 알고리즘 일부는 시간 및 요일을 사용하여 예상 범위를 결정하므로, 단순한 임계값 알림으로는 탐지할 수 없는 이상 징후를 포착할 수 있습니다. 예를 들어, 시계열이 오전 10시에는 정상으로 간주되었더라도 오전 5시에는 비정상적으로 높은 수치를 보일 수 있습니다.

각 알림 평가에서 Datadog은 예상 범위 이상, 이하, 예상 범위를 벗어난 시계열의 백분율을 계산합니다. 해당 백분율이 설정된 임계값을 초과하면 알림이 트리거됩니다.

자세한 내용은 [이상 모니터][1] 페이지를 참조하세요.

[1]: /ko/monitors/types/anomaly/
{{% /tab %}}
{{% tab "Outliers" %}}

이상치 모니터는 그룹 구성원(호스트, 가용 영역, 파티션 등)이 다른 구성원과 비교하여 비정상적으로 동작하는 경우를 감지합니다.

각 알림 평가에서 Datadog은 모든 그룹이 함께 클러스터링되어 동일한 동작을 보이는지 확인합니다. 하나 이상의 그룹이 나머지 그룹과 차이가 날 경우 알림이 트리거됩니다.

자세한 내용은 [이상치 모니터][1] 페이지를 참조하세요.

[1]: /ko/monitors/types/outlier/
{{% /tab %}}
{{% tab "Forecast" %}}

예측 알림은 메트릭의 향후 동작을 예측하고 이를 정적 임계값과 비교합니다. 강한 추세나 반복 패턴을 보이는 메트릭에 적합합니다.

각 알림 평가에서 예측 알림은 예상 편차 범위와 함께 메트릭의 미래 값을 예측합니다. 편차 범위의 일부가 설정된 임계값을 초과하면 알림이 트리거됩니다.

자세한 내용은 [Forecast monitor][1] 페이지를 참조하세요.

[1]: /ko/monitors/types/forecasts/
{{% /tab %}}
{{< /tabs >}}

## 메트릭 정의

Datadog으로 보고되는 모든 메트릭은 모니터에서 사용할 수 있습니다. 아래의 단계에 따라 에디터를 사용해 메트릭을 정의하세요. 쿼리 파라미터는 선택한 탐지 방법에 따라 약간씩 다릅니다.

{{< tabs >}}
{{% tab "Threshold" %}}

{{< img src="monitors/monitor_types/metric/metric_threshold_config.png" alt="임계값 탐지 메트릭 모니터용 메트릭 정의" style="width:100%;">}}

| 단계                              | 필수 | 기본값        | 예시           |
|-----------------------------------|----------|----------------|-------------------|
| 메트릭 선택                   | Yes      | 없음           | `system.cpu.user` |
| `from` 정의                 | 아니요       | 어디서나     | `env:prod`        |
| 메트릭 집계 지정        | Yes      | `avg by`       | `sum by`          |
| 그룹화                          | 아니요       | 모두     | `host`            |
| 모니터 쿼리 집계 지정 | 아니요       | `average`      | `sum`             |
| 평가 기간                 | 아니요       | `5 minutes`    | `1 day`           |

**정의**

| 옵션           | 설명                                                                                                                                                                   |
|------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 평균          | 이 시계열은 평균화되어 임계값과 비교하여 확인되는 단일 값을 생성합니다. 모니터 쿼리에 `avg()` 함수를 추가합니다.                                   |
| 최대              | 생성된 시계열에서 단일 값이 임계값을 초과하면 알림이 트리거됩니다. 모니터 쿼리에 max() 함수가 추가됩니다. 추가 임계값 동작에 대해서는 참고 섹션을 확인하세요. |
| 최소              | 쿼리 평가 기간 내 모든 포인트가 임계값을 초과하면 알림이 트리거됩니다. 모니터 쿼리에 min() 함수가 추가됩니다. 추가 임계값 동작에 대해서는 참고 섹션을 확인하세요.|
| 합계              | 시계열의 모든 포인트의 합이 임계값을 초과하면 알림이 트리거됩니다. 쿼리에 `sum()` 함수가 추가됩니다.                               |
| 백분위수(pXX)  | 쿼리 평가 기간 내 포인트의 pXX 백분위수가 임계값을 초과하면 알림이 트리거됩니다. 본 옵션은 모니터 쿼리에 `percentile` 함수를 추가합니다. 분포 메트릭 유형에만 사용할 수 있습니다.
| 평가 기간| 모니터가 평가하는 기간입니다. `5 minutes` , `15 minutes`, `1 hour` 또는 `custom` 등의 프리셋 타임 윈도우를 사용하여 1분에서 730시간(1개월) 사이의 값을 설정하세요. |

{{% /tab %}}
{{% tab "Change" %}}

{{< img src="monitors/monitor_types/metric/metric_change_alert_config.png" alt="변경 탐지 메트릭 모니터용 메트릭 정의" style="width:100%;">}}

| 단계                              | 필수 | 기본값        | 예시           |
|-----------------------------------|----------|----------------|-------------------|
| 메트릭 선택                   | Yes      | 없음           | `system.cpu.user` |
| `from` 정의                 | 아니요       | 모든 곳     | `env:prod`        |
| 메트릭 집계 지정        | 아니요       | `avg by`       | `sum by`          |
| 그룹화                          | 아니요       | 모두     | `host`            |
| 모니터 쿼리 집계 지정 | 아니요       | `average`      | `sum`             |
| 변경 유형 선택              | 아니요       | `change `      | `% change`        |
| 평가 기간                 | 아니요       | `5 minutes`    | `1 day`           |
| 비교 기간                 | 아니요       | `5 minutes`    | `1 month`         |

**정의**

| 옵션           | 설명                                                                                                                                                                   |
|------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 변경           | 값의 절대 변화치입니다.                                                                                                                                             |
| %&nbsp;change    | 이전 값과 비교한 값의 변화율입니다. 예를 들어, 이전 값이 2이고 현재 값이 4인 경우의 변화율은 100%입니다.            |
| 평균          | 이 시계열은 임계값에 대하여 확인되는 단일 값을 생성하기 위해 평균화됩니다. 모니터 쿼리에 `avg()` 함수를 추가합니다.                                   |
| 최대              | 생성된 시계열에서 단일 값이 임계값을 초과하면 알림이 트리거됩니다. 모니터 쿼리에 max() 함수가 추가됩니다. 추가 임계값 동작에 대해서는 참고 섹션을 참조하세요. |
| 최소              | 쿼리 평가 기간 내 모든 포인트가 임계값을 초과하면 알림이 트리거됩니다. 모니터 쿼리에 min() 함수가 추가됩니다. 추가 임계값 동작에 대해서는 참고 섹션을 확인하세요. |
| 합계              | 시계열의 모든 포인트의 합이 임계값을 초과하면 알림이 트리거됩니다. 쿼리에 `sum()` 함수가 추가됩니다.                               |
| 백분위수(pXX)  | 쿼리 평가 기간 내 포인트의 pXX 백분위수가 임계값을 초과하면 알림이 트리거됩니다. 본 옵션은 모니터 쿼리에 `percentile` 함수를 추가합니다. 분포 메트릭 유형에만 사용할 수 있습니다.
| 평가 기간| 모니터가 평가하는 기간입니다. `5 minutes` , `15 minutes`, `1 hour` 또는 `custom` 등의 프리셋 타임 윈도우를 사용하여 1분에서 730시간(1개월) 사이의 값을 설정하세요. |

{{% /tab %}}
{{< /tabs >}}

**참조**:
  - 백분위수 집계기와 함께 분포 메트릭을 사용하는 경우 일치하는 백분위수 임계값이 자동 지정됩니다. 백분위수 집계기가 있는 메트릭은 알림 메시지에서 스냅샷 그래프를 생성하지 않습니다.
  - **최대/최소**: 최대 및 최소값에 대한 설명은 메트릭이 임계값을 초과할 때 모니터가 알림을 보낸다고 가정합니다. 임계값 미만일 때 알림을 보내는 모니터의 경우 최대 및 최소 동작이 반전됩니다.
  - 모니터용 메트릭을 정의하는 것은 그래프용 메트릭을 정의하는 것과 유사합니다. `Advanced...` 옵션 사용에 대한 자세한 내용은 [고급 그래프 생성][2]을 참조하세요.
  - `as_count()`를 활용할 시 다양한 동작이 있습니다. 자세한 내용은 [모니터 평가의 as_count()][3]를 참조하세요.
  - `N/A` 그룹은 모니터에 포함되지 않으므로 태그 키에 값이 반드시 존재해야 합니다.

## 경고 조건 설정

메트릭이 다음 중 하나일 때 트리거됩니다.
- `above`
- `above or equal to`
- `below`
- `below or equal to`
- `equal to`
- `not equal to`

값이 0과 1 사이인 경우 소수점 앞에 0이 필요합니다. 예: `0.3`.

### 고급 알림 조건

#### 데이터 윈도우

데이터 평가 전체 기간에 대하여 `Require` 또는 `Do not require`

이 설정을 사용하면 알림 엔진이 모니터를 평가 후보로 간주하는 시점을 변경할 수 있습니다.

**필수 아님**(기본값): 모니터를 인지하는 즉시 평가합니다. 데이터 포인트가 희소한 경우에 이 값을 사용하는 것을 고려해 보세요. 해당 구성을 사용하면 평가 타임프레임에 데이터 포인트가 하나만 있어도 모니터가 평가됩니다.

**필수**: 모니터는 평가 기간이 데이터로 `filled`되어 있는 것으로 간주될 때까지 평가되지 않습니다. 전체 평가 타임프레임 동안 데이터가 존재하는 경우 알림을 받으려면 이 옵션을 사용하세요.

평가 타임프레임이 데이터로 `filled`되어 있는지 정의하려면 해당 타임프레임을 더 작은 버킷으로 분할합니다.

다음 로직에 따라 버킷 크기가 결정됩니다.

* 평가 타임프레임(분): 버킷 크기는 1분입니다.
* 평가 타임프레임(시간): 버킷 크기는 10분입니다.
* 평가 타임프레임(일): 버킷 크기는 1시간입니다.
* 평가 타임프레임(월): 버킷 크기는 4시간입니다.

'전체 기간'으로 간주되려면 모니터는 다음이 필요합니다.

1. 첫 번째 버킷에 하나 이상의 데이터 포인트가 존재합니다. 첫 번째 버킷은 시간순으로 기간 내 가장 오래된 버킷입니다.
2. 데이터 포인트가 없는 버킷은 총 3개 이하여야 합니다.

조건이 충족되면 모니터 상태가 평가됩니다. 그렇지 않으면 평가가 취소되고 모니터 상태가 변경되지 않습니다.

예를 들어, 지난 `2h` 동안 평가한 모니터 하나가 10분 단위의 12개의 버킷으로 나뉘어 있다고 생각해 보세요. 첫 번째 버킷에 데이터가 존재하고 최대 총 3개의 버킷이 비어 있으면 모니터는 전체 기간으로 간주됩니다.

| data   | B0 | B1 | B2 | B3 | B4 | B5 | B6 | B7 | B8 | B9 | B10 | B11 | 전체 기간 여부|
|--------|----|----|----|----|----|----|----|----|----|----|-----|-----|-------------|
| 케이스 1 | 1  | 1  | 1  | 1  | 1  | 1  | 1  | 1  | 1  | 1  | 1   | 1   | Yes         |
| 케이스 2 | x  | 1  | 1  | 1  | 1  | 1  | 1  | 1  | 1  | 1  | 1   | 1   | No          |
| 케이스 3 | 1  | 1  | x  | x  | x  | 1  | 1  | 1  | 1  | 1  | 1   | 1   | Yes         |
| 케이스 4 | 1  | x  | x  | x  | 1  | 1  | 1  | 1  | x  | x  | 1   | 1   | No          |

평가 기간에 대한 자세한 내용은 [모니터 구성][5] 페이지를 참조하세요.

#### 기타 옵션

고급 알림 옵션(데이터 없음, 자동 해결 등)에 대한 지침을 확인하려면 [모니터 설정][6] 페이지를 참조하세요.

## 알림

**알림 및 자동화 설정** 섹션에 대한 자세한 지침은 [알림][7] 및 [모니터링 설정][8] 페이지를 참조하세요.

## 참고 자료

{{< partial name="whats-next/whats-next.html" >}}

[1]: https://app.datadoghq.com/monitors/create
[2]: /ko/dashboards/querying/#advanced-graphing
[3]: /ko/monitors/guide/as-count-in-monitor-evaluations/
[5]: /ko/monitors/configuration/?tab=thresholdalert#evaluation-window
[6]: /ko/monitors/configuration/#advanced-alert-conditions
[7]: /ko/monitors/notify/
[8]: /ko/monitors/configuration/?tab=thresholdalert#configure-notifications-and-automations