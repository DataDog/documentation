---
disable_toc: false
further_reading:
- link: /monitors/types/metric/?tab=change#choose-the-detection-method
  tag: 설명서
  text: 메트릭 모니터의 감지 방법 선택
- link: /monitors/configuration/
  tag: 설명서
  text: 모니터 설정 방법 알아보기
kind: 가이드
title: 변경 알림 모니터
---

## 개요

메트릭 모니터는 가장 일반적으로 사용되는 모니터 유형 중 하나입니다. 이 가이드에서는 변경 알림 감지 방법의 동작과 추가 옵션에 대해 명확하게 설명합니다. 변경 알림 모니터의 작동 방식과 변경 알림 평가 문제를 해결하는 방법에 대해 알아보세요.

## 변경 알림 모니터란 무엇인가요?
다음은 변경 감지 방법을 사용하는 모니터의 작동 방식에 대한 분석입니다:
1. 모니터는 현재 시간의 데이터 포인트에 대한 쿼리를 가져옵니다.
1. N분, 시간 또는 며칠 전의 데이터 포인트에 대한 쿼리가 필요합니다.
1. 그런 다음 (1)과 (2) 사이의 값의 차이를 쿼리합니다.
1. (3)의 쿼리에 대해 집계가 적용되어 단일 값을 반환합니다.
1. **알림 조건 설정**에 정의된 임계값은 (4)에서 반환된 단일 값과 비교됩니다.

## 평가 조건

다음은 변경 알림 모니터에서 설정해야 하는 다양한 옵션입니다.

{{< img src="/monitors/guide/change-alert/configure_define_the_metrics.png" alt="변경 알림 감지 방법의 구성 옵션" style="width:100%;" >}}

예시에서는 다음과 같은 경고 상태를 보여 줍니다:
**5분** 대비 **1시간** 동안의 **평균** 변화량**
| 선택한 옵션 | 설명                                                                                     | 옵션 |
| ---------------  | ------------------------------------------------------------------------------------------------| ----------- |
| 평균          | 쿼리에 사용되는 집계입니다.                                                      | `Average`, `Maximum`, `Minimum`, `Sum` |
| 변경           | 값의 절대 변화 또는 백분율 변화 중 하나를 선택합니다.                                  | `change` 또는 `% change`|
| 1 시간           | 평가 창입니다. 자세한 내용은 [모니터 설정][1] 설명서를 참조하세요.  | 이 값은 N분, 시간, 일, 주 또는 최대 한 달이 될 수 있습니다. |
| 5분        | 쿼리를 이동할 타임프레임입니다.                                              | 이 값은 N분, 시간, 일, 주 또는 최대 한 달 전일 수 있습니다.|

### 변경 및 변경 %

변경 알림 감지를 설정할 때 **변경**과 **% 변경**의 두 가지 옵션이 있습니다.

다음 표의 공식 섹션에 표시된 대로 모니터가 평가하는 방식을 결정합니다.

| 옵션   | 설명                                                        | 공식              |
| -------  | ------------------------------------------------------------------ | -------------------- |
| 변경   | 값의 절대적인 변화.                                  | `a - b`              |
| % 변경 | 이전 값과 비교한 값의 백분율 변화. | `((a - b) / b) * 100`|

두 경우 모두에서 `Change` 또는 `% Change`는 양수 또는 음수일 수 있습니다.

## 변경 알림 평가 트러블슈팅

변경 알림 평가 결과를 확인하려면 Notebook을 사용하여 메트릭 쿼리를 재구성하세요.
다음 설정으로 이 변경 알림 모니터를 사용하세요.

{{< img src="monitors/guide/change-alert/example_monitor_config.png" alt="변경 알림이 선택된 모니터 생성 페이지는 지난 30분과 비교하여 지난 5분 동안 메트릭 system.load.1의 평균 변화율을 평가합니다." style="width:100%;" >}}

모니터 쿼리:
```pct_change(avg(last_5m),last_30m):<METRIC> > -50```

다음과 같은 조건으로 쿼리를 나눕니다:
1. **평균** 집합.
2. **% change** 사용.
3. **5분**의 평가 창.
4. **30분** 또는 1800초의 타임시프트.
5. **> -50**의 임계값.

### 쿼리 재구성

1. [노트북][2] 및 [타임시프트 기능][3]을 사용하여 특정 평가에서 모니터가 사용하는 데이터를 재구성합니다.
    - 현재 시간의 데이터 포인트 쿼리입니다(일반 쿼리<QUERY>).
    - N분 전의 데이터 포인트 쿼리(일반 쿼리 +타임시프트(-1800)).
    - 타임시프트 기능은 데이터를 다시 이동하기 때문에 **음수** 기간을 사용합니다. 테이블의 % 변경 수식과 함께 이러한 쿼리를 결합합니다.
    - **참고**: 이 예제는 메트릭이 하나뿐이므로 단일 쿼리(a)를 사용하여 공식`((a - timeshift(a, -1800)) / timeshift(a, -1800)) * 100`를 추가할 수 있음
    {{< img src="monitors/guide/change-alert/notebook_query_reconstruct_timeshift.png" alt="Reconstruct Change Alert 쿼리라는 제목의 노트북 셀의 편집 화면은 공식 ((a - timeshift(a, -1800))을 사용하여 어디에서나 메트릭 system.load.1의 평균을 사용하여 시계열로 구성. / timeshift(a, -1800)) * 100 적용 중" style="width:100%;" >}}
2. 모니터의 히스토리 그래프와 노트북 그래프를 비교합니다. 값이 비슷한가요?
3. 집합을 적용합니다.
    - 노트북 그래프를 변경 알림 모니터 평가와 비교하려면 변경 알림과 일치하도록 기간의 범위를 지정하세요.
    - 예를 들어, 1시 30분에 지난 5분 동안의 모니터 평가 값을 확인하려는 경우 노트북의 범위를 1시 25분부터 1시 30분까지로 지정합니다.

## 참고 자료

{{< partial name="whats-next/whats-next.html" >}}

[1]: /ko/monitors/configuration/#evaluation-window
[2]: /ko/monitors/manage/status/#investigate-a-monitor-in-a-notebook
[3]: /ko/dashboards/functions/timeshift/