---
app_id: k6
categories:
- 알림
- 테스트
custom_kind: 통합
description: Datadog에서 k6 성능 테스트 메트릭 분석 및 시각화
integration_version: 1.0.0
media: []
supported_os:
- linux
- 윈도우즈(Windows)
- macos
title: k6
---
## 개요

[k6](https://k6.io/open-source) is an open-source load testing tool that helps you catch performance issues and regressions earlier.

k6 통합을 사용하면 k6 테스트의 성능 메트릭을 추적할 수 있습니다.

- 애플리케이션 성능과 부하 테스트의 상관관계를 파악합니다.
- 성능 테스팅 메트릭 기반 알림을 생성합니다.
- Analyze and visualize k6 metrics using the k6 Datadog Dashboard or [Metrics Explorer](https://docs.datadoghq.com/metrics/explorer/).

![k6 Datadog Dashboard](https://raw.githubusercontent.com/DataDog/integrations-extras/master/k6/images/k6-default-dashboard.png)

## 설정

For the detailed instructions, follow the [k6 documentation](https://grafana.com/docs/k6/latest/results-output/real-time/datadog/).

### 설치

1. In Datadog, navigate to Integrations > [API](https://app.datadoghq.com/organization-settings/api-keys) to copy your API key.

1. Datadog 에이전트를 실행합니다.

   To get k6 metrics into Datadog, k6 sends metrics through the Datadog Agent, which collects, aggregates, and forwards the metrics to the Datadog platform.

   Run the Datadog Agent service as a Docker container with this command:

   ```shell
   DOCKER_CONTENT_TRUST=1 \
   docker run -d \
       --name datadog \
       -v /var/run/docker.sock:/var/run/docker.sock:ro \
       -v /proc/:/host/proc/:ro \
       -v /sys/fs/cgroup/:/host/sys/fs/cgroup:ro \
       -e DD_SITE="datadoghq.com" \
       -e DD_API_KEY=<YOUR_DATADOG_API_KEY> \
       -e DD_DOGSTATSD_NON_LOCAL_TRAFFIC=1 \
       -p 8125:8125/udp \
       datadog/agent:latest
   ```

   **Note**: Replace `<YOUR_DATADOG_API_KEY>` with your [API](https://app.datadoghq.com/organization-settings/api-keys) key. If your account is registered with Datadog EU, change the value of `DD_SITE` to `datadoghq.eu`.

1. k6 테스트를 실행하고 결과를 Datadog로 출력합니다.

   Once the Datadog Agent service is running, run the k6 test and send the metrics to the Agent with:

   ```shell
   K6_STATSD_ENABLE_TAGS=true k6 run --out xk6-output-statsd script.js
   ```

1. Datadog에서 k6 메트릭을 시각화합니다.

   While running the test, k6 sends metrics periodically to DataDog. By default, these metrics have `k6.` as the name prefix.

   You can visualize k6 metrics in realtime with the [metrics explorer](https://docs.datadoghq.com/metrics/explorer/), [monitors](https://docs.datadoghq.com/monitors/), or [custom dashboards](https://docs.datadoghq.com/dashboards/).

   ![k6 Datadog Metrics Explorer](https://raw.githubusercontent.com/DataDog/integrations-extras/master/k6/images/metrics-explorer.png)

   Additionally, the first time Datadog detects the `k6.http_reqs` metric, the k6 integration tile is installed automatically, and the default k6 dashboard is added to your [dashboard list](https://docs.datadoghq.com/dashboards/list).

   ![k6 Datadog Dashboard](https://raw.githubusercontent.com/DataDog/integrations-extras/master/k6/images/k6-default-dashboard.png)

## 수집한 데이터

### Metrics

| | |
| --- | --- |
| **k6.data_sent** <br>(count) | The amount of data sent<br>_Shown as byte_ |
| **k6.data_received** <br>(count) | The amount of received data<br>_Shown as byte_ |
| **k6.http_req_blocked.avg** <br>(gauge) | Average time spent blocked before initiating the request<br>_Shown as millisecond_ |
| **k6.http_req_blocked.max** <br>(gauge) | Max time spent blocked before initiating the request<br>_Shown as millisecond_ |
| **k6.http_req_blocked.median** <br>(gauge) | Median time spent blocked before initiating the request<br>_Shown as millisecond_ |
| **k6.http_req_blocked.95percentile** <br>(gauge) | 95th time spent blocked before initiating the request<br>_Shown as millisecond_ |
| **k6.http_req_blocked.99percentile** <br>(gauge) | 99th time spent blocked before initiating the request<br>_Shown as millisecond_ |
| **k6.http_req_blocked.count** <br>(rate) | The number of http_req_blocked values submitted during the interval<br>_Shown as unit_ |
| **k6.http_req_connecting.avg** <br>(gauge) | Average time spent establishing TCP connection<br>_Shown as millisecond_ |
| **k6.http_req_connecting.max** <br>(gauge) | Max time spent establishing TCP connection<br>_Shown as millisecond_ |
| **k6.http_req_connecting.median** <br>(gauge) | Median time spent establishing TCP connection<br>_Shown as millisecond_ |
| **k6.http_req_connecting.95percentile** <br>(gauge) | 95th time spent blocked before initiating the request<br>_Shown as millisecond_ |
| **k6.http_req_connecting.99percentile** <br>(gauge) | 99th time spent blocked before initiating the request<br>_Shown as millisecond_ |
| **k6.http_req_connecting.count** <br>(rate) | The number of http_req_connecting values submitted during the interval<br>_Shown as unit_ |
| **k6.http_req_duration.avg** <br>(gauge) | Average request time<br>_Shown as millisecond_ |
| **k6.http_req_duration.max** <br>(gauge) | Max request time<br>_Shown as millisecond_ |
| **k6.http_req_duration.median** <br>(gauge) | Median request time<br>_Shown as millisecond_ |
| **k6.http_req_duration.95percentile** <br>(gauge) | 95th request time<br>_Shown as millisecond_ |
| **k6.http_req_duration.99percentile** <br>(gauge) | 99th request time<br>_Shown as millisecond_ |
| **k6.http_req_duration.count** <br>(rate) | The number of http_req_duration values submitted during the interval<br>_Shown as unit_ |
| **k6.http_reqs** <br>(count) | Total number of HTTP requests<br>_Shown as request_ |
| **k6.http_req_receiving.avg** <br>(gauge) | Average time spent receiving response data<br>_Shown as millisecond_ |
| **k6.http_req_receiving.max** <br>(gauge) | Max time spent receiving response data<br>_Shown as millisecond_ |
| **k6.http_req_receiving.median** <br>(gauge) | Median time spent receiving response data<br>_Shown as millisecond_ |
| **k6.http_req_receiving.95percentile** <br>(gauge) | 95th time spent receiving response data<br>_Shown as millisecond_ |
| **k6.http_req_receiving.99percentile** <br>(gauge) | 99th time spent receiving response data<br>_Shown as millisecond_ |
| **k6.http_req_receiving.count** <br>(rate) | The number of http_req_receiving values submitted during the interval<br>_Shown as unit_ |
| **k6.http_req_sending.avg** <br>(gauge) | Average time spent sending data<br>_Shown as millisecond_ |
| **k6.http_req_sending.max** <br>(gauge) | Max time spent sending data<br>_Shown as millisecond_ |
| **k6.http_req_sending.median** <br>(gauge) | Median time spent sending data<br>_Shown as millisecond_ |
| **k6.http_req_sending.95percentile** <br>(gauge) | 95th time spent sending data<br>_Shown as millisecond_ |
| **k6.http_req_sending.99percentile** <br>(gauge) | 99th time spent sending data<br>_Shown as millisecond_ |
| **k6.http_req_sending.count** <br>(rate) | The number of http_req_sending values submitted during the interval<br>_Shown as unit_ |
| **k6.http_req_tls_handshaking.avg** <br>(gauge) | Average time spent handshaking TLS session<br>_Shown as millisecond_ |
| **k6.http_req_tls_handshaking.max** <br>(gauge) | Max time spent handshaking TLS session<br>_Shown as millisecond_ |
| **k6.http_req_tls_handshaking.median** <br>(gauge) | Median time spent handshaking TLS session<br>_Shown as millisecond_ |
| **k6.http_req_tls_handshaking.95percentile** <br>(gauge) | 95th time spent handshaking TLS session<br>_Shown as millisecond_ |
| **k6.http_req_tls_handshaking.99percentile** <br>(gauge) | 99th time spent handshaking TLS session<br>_Shown as millisecond_ |
| **k6.http_req_tls_handshaking.count** <br>(rate) | The number of http_req_tls_handshaking values submitted during the interval<br>_Shown as unit_ |
| **k6.http_req_waiting.avg** <br>(gauge) | Average time spent waiting for response (TTFB)<br>_Shown as millisecond_ |
| **k6.http_req_waiting.max** <br>(gauge) | Max time spent waiting for response (TTFB)<br>_Shown as millisecond_ |
| **k6.http_req_waiting.median** <br>(gauge) | Median time spent waiting for response (TTFB)<br>_Shown as millisecond_ |
| **k6.http_req_waiting.95percentile** <br>(gauge) | 95th time spent waiting for response (TTFB)<br>_Shown as millisecond_ |
| **k6.http_req_waiting.99percentile** <br>(gauge) | 99th time spent waiting for response (TTFB)<br>_Shown as millisecond_ |
| **k6.http_req_waiting.count** <br>(rate) | The number of http_req_waiting values submitted during the interval<br>_Shown as unit_ |
| **k6.iteration_duration.avg** <br>(gauge) | Average time spent for a VU iteration<br>_Shown as millisecond_ |
| **k6.iteration_duration.max** <br>(gauge) | Max time spent for a VU iteration<br>_Shown as millisecond_ |
| **k6.iteration_duration.median** <br>(gauge) | Median time spent for a VU iteration<br>_Shown as millisecond_ |
| **k6.iteration_duration.95percentile** <br>(gauge) | 95th time spent for a VU iteration<br>_Shown as millisecond_ |
| **k6.iteration_duration.99percentile** <br>(gauge) | 99th time spent for a VU iteration<br>_Shown as millisecond_ |
| **k6.iteration_duration.count** <br>(rate) | The number of iteration_duration values submitted during the interval<br>_Shown as unit_ |
| **k6.iterations** <br>(count) | Aggregated number of VU iterations<br>_Shown as unit_ |
| **k6.vus** <br>(gauge) | Current number of active virtual users<br>_Shown as user_ |
| **k6.vus_max** <br>(gauge) | Max possible number of virtual users<br>_Shown as user_ |

### 서비스 점검

k6 통합에는 서비스 점검이 포함되어 있지 않습니다.

### 이벤트

k6 통합에는 이벤트가 포함되어 있지 않습니다.

## 트러블슈팅

Need help? Read the [k6 Datadog documentation](https://grafana.com/docs/k6/latest/results-output/real-time/datadog/) or contact [k6 support](https://community.k6.io/).