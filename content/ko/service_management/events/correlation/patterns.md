---
further_reading:
- link: service_management/events/correlation/triage_and_notify
  tag: 설명서
  text: 사례 심사 및 알림에 대해 알아보기
title: 패턴 기반 상관 관계
---

## 개요

패턴 기반 상관관계를 통해 이벤트가 연계되는 방법을 제어할 수 있습니다. Datadog는 또한 머신러닝을 통해  Datadog와 기타 휴리스틱 내에서 수집된 기본 텔레메트리를 바탕으로, 관련 Datadog 모니터링 이벤트를 가져와 자동으로 패턴을 강화합니다. 

Datadog에서는 시작할 때 내 환경에 따라 자동으로 [패턴 기반 상관 관계][1]를 제안합니다. 추천 항목 중 하나를 클릭하면 추천 패턴의 구성을 열 수 있습니다. 구성 필드가 자동으로 채워져 있습니다.

{{< img src="service_management/events/correlation/pattern/recommended_patterns_preview.png" alt="미리 보기 패널에 패턴 기반 잠재 사례가 표시된 상관 관계 추천 패턴" style="width:100%;" >}}


## 패턴 생성

패턴 생성 방법:
1. [상관 관계][1]로 이동하세요.
1. 패턴 테이블 상단의 **+ Add a Pattern**을 클릭하세요. 그러면 패턴 구성 페이지가 열리며, 좌측에는 기본 추천 패턴이 표시되고 우측에는 패턴 결과 미리보기가 표시됩니다.
1. **+ Continue With Pattern**을 클릭해 추천 패턴을 수정할 수 있습니다. 그러면 필드가 미리 채워진 구성 페이지로 이동하고, 여기에서 추가 구성을 할 수 있습니다. 또는 **+ Personalize From Scratch**를 클릭해 나만의 패턴을 생성할 수 있습니다.

먼저 알림을 보내기 위해 이벤트 집계 키에 따라 이벤트가 복제됩니다. 그리고 구성에 따라 알림과 사례의 상관 관계가 수립됩니다. 
{{< img src="service_management/events/correlation/correlation_helper.mp4" alt="이벤트가 정의된 소스 및 필터와 일치하면 알림으로 복제됩니다. 알림은 그룹화 속성에 따라 상관 관계가 수립되고, 새 사례에서 프로세스가 반복되기 전에 지정한 기간 안에 이벤트 복제가 취소됩니다. 설정에서 이 구성을 수정할 수 있습니다" video=true >}}
집계 키로 이벤트를 전송하는 방법에 관한 자세한 정보는 [Datadog로 이벤트 전송][5]을 참고하세요. 집계 키가 없는 이벤트는 시간대 내에 중복 제거되어 단일 알림이 됩니다.

### 제안 패턴
사용자가 일반적으로 사용하는 서비스와 환경 태그를 기반으로 추천 패턴을 제안해 이벤트 상관 관계를 빠르게 수립할 수 있도록 도와줍니다.

### 설정
[상관 관계 구성 페이지][2]에서
1. 드롭다운 중 그룹화하고 싶은 이벤트 소스를 선택합니다.
1. 위에 정의된 소스에서 이벤트를 제외하려면 **Filter by these events or tags**에 이벤트 쿼리를 추가하여 이벤트를 필터링합니다.
1. 케이스 조사를 지원하기 위해 관련 이벤트에 변경 사항 또는 기타 보조 이벤트를 추가합니다. 관련 이벤트는 케이스에 추가되지만 새 케이스를 생성하지는 않습니다.
1. 그룹화할 때 사용할 태그를 정의하세요. 그룹화 태그는 이벤트 패싯입니다. 드롭다운에서 태그가 보이지 않으면 [고급 설정 섹션](#advanced-settings-optional)을 참고하세요.
**참고**: 이벤트 속성과 태그에 모두 패싯을 생성할 수 있습니다. 자세히 알아보려면 [패싯][4] 설명서를 참고하세요.

### 고급 설정(선택 사항)
1. **Show Advanced Settings**을 클릭하세요.
1. 그룹화 태그를 추가하여 이벤트를 연계하고 케이스 제목을 커스터마이징할 수 있습니다.

   그룹화 태그 추가
   : 새로운 그룹화 태그를 추가하는 방법은 [새 이벤트 패싯][3]을 추가하는 방법과 동일합니다.

   케이스 제목 커스터마이징
   : 템플릿을 생성하여 자동으로 생성된 케이스 제목을 교체합니다. handlebars 구문을 사용해 태그 템플릿 변수를 참조할 수 있습니다. 예를 들어 "{{tag.service}}"를 사용해 쉼표로 구분된 태그 값 목록을 포함할 수 있습니다.

1. **Advanced correlation logic** 아래에서 사례를 만들 때 필요한 최소 상관 관계 이벤트를 지정하고 시간대를 업데이트할 수 있습니다.

    **타임프레임**

   알림과 사례 연결 시간
   새 알림이 사례에 추가되는 최대 시간

   해당 알림의 이벤트 중복 제거 시간
    : 상관관계가 있지만 계속 플랩되거나 해결되지 않은 현재 알림에 대한 상태 전환을 반영하는 최대 기간입니다. 이벤트는 새 케이스를 열기 전에 기존 케이스에서 해당 알림을 중복 제거합니다.


## 패턴 출력 미리 보기

내 구성에서 가능한 패턴과 사례를 미리 보세요. 미리 보기 패널에서 다음을 표시합니다.
- 수집된 총 이벤트 수(최초 1,000개 이벤트로 제한)입니다.
- 이벤트에서 중복 해제될 알림 수
- 구성에 따라 생성될 사례 수

이 데이터를 이용해 내 상관 관계에 있을 영향을 미리 보고 패턴의 예측 결과를 이해할 수 있습니다.

{{< img src="service_management/events/correlation/pattern/preview_pattern_output.png" alt="미리 보기 패널을 보여주는 패턴 기반 상관 관계. 패널에서 내 구성과 일치하는 수집 이벤트 수, 발생하게 될 중복 해제 수, 발생할 총 사례 수를 볼 수 있음." style="width:100%;" >}}

**참고**: 미리 보기 사례의 기본값 제목은 상관 관계의 첫 알림입니다. 패턴을 저장하면 이벤트 관리 사례 제목이 알아보기 쉽게 생성됩니다.

## 사례 관리 대상 선택

1. *Project* 드롭다운 메뉴에서 그룹화된 이벤트를 보낼 기존 사례를 선택하세요.
1. (선택 사항) 결과 사례에 태그를 추가하세요.
1. **Save and Activate**를 클릭해 이 패턴을 활성화하고 이벤트를 사례에 그룹화합니다.

## 기존 패턴을 업데이트하세요.
기존 패턴을 업데이트하면 활성 상태인 사례의 처리가 중단됩니다. 패턴과 일치하는 새 이벤트가 새 사례를 생성합니다.

## 참고 자료

{{< partial name="whats-next/whats-next.html" >}}

[1]: https://app.datadoghq.com/event/correlation
[2]: https://app.datadoghq.com/event/correlation/rule/new 
[3]: /ko/service_management/events/explorer/facets/#create-a-facet
[4]: /ko/service_management/events/explorer/facets
[5]: /ko/service_management/events/ingest/