---
title: Dynamic volume control
kind: documentation
description: 
further_reading:
- link: "logs/graph"
  tag: "Documentation"
  text: "Perform analytics with Log Graphs"
- link: "logs/processing"
  tag: "Documentation"
  text: Learn how to process your logs
- link: "logs/parsing"
  tag: "Documentation"
  text: Learn more about parsing
---

<div class="alert alert-warning">
This feature is currently in Beta. Ask your Sales representative or your Customer Success Manager to get it enabled.
</div>

## Overview

Sometimes the amount of log events generated by your applicative infrastructure is too large and raise the problem of choosing what logs are worth sending to a Log Management solution and those that we just archive.

By default, all logs sent to Datadog are indexed and can be used for [faceted searching][1], [Log Graph][2], [dashboarding][3] and [monitoring][4]. But there might be noisy logs not worth indexing which is why Datadog provide a way to dynamically control your volume and cost known with Index Filters.

The Index filters have been designed to avoid complex server configuration with hardcoded filters at agent level to give much more flexibility. This flexibility is much appreciated in some exceptional situations like outages where you can decide to disable some filters to give more data to the teams. The other way around works as well: if you over consume because of some seasonal reason (Black Friday, Christmas, etc…)? You can decide to selectively reduce some volume to avoid overages.

In a Nutshell:

* Ingest all your log events without server side filtering
* Process and enrich all of them
* Live Tail over the whole infrastructure
* Dynamically decide what to include or exclude from your indexes to control your costs

## Index details

Indexes are located at the bottom of the [pipeline page][5]. Double click on them or click on the *edit* button to see more information about the number of logs that were indexed in the past 3 days and the retention period for those logs:

{{< img src="logs/dynamic_volume_control/index_details.png" alt="" responsive="true" popup="true" style="width:70%;">}}

## Exclusion Filters

Index filters give more control over what goes into your indexes. 

For example, if some logs were captured only for troubleshooting purposes, you may only care to index those logs with errors and warnings. This can easily be achieved with exclusion filters. 

To define a new Index Filter click on the “add” button:

{{< img src="logs/dynamic_volume_control/index_filters.png" alt="" responsive="true" popup="true" style="width:70%;">}}

To configure an exclusion filter:

1. Define the name of your filter
2. Define the query for logs to exclude from your index   
    **Note**: It is possible to use any attribute or tag in the Index filter query, even those that are not facets. If you are filtering by non-faceted attributes or tags, be sure to hit “enter/return” from the query bar
3. Save the filter

    {{< img src="logs/dynamic_volume_control/index_filter_details.png" alt="" responsive="true" popup="true" style="width:80%;">}}

### Example

The following filter removes all logs that have a fast response time. 
We use the `http.response_time attribute` and filter all logs that have a value below *100ms*.

```json
{
    "http": {
        "url": "https://app.datadoghq.com/logs",
        "status_code": "200",
        "response_time": 12
    },
    "metadata": {
        "version": 12,
        "release": "sept18"
    }
}
```

**Filter**: `@http.response_time:<100`

### Container example

Container logs have a lot of metadata collected as tags. To exclude all logs coming from images that contains `httpd` in the `image_name` tag use the following filter:

**Filter**: `image_name:*httpd*`

## Enable/Disable filters

If all logs are not worth indexing on a daily basis, they might still be critical in some situations.
Debug logs for instance are not always useful but during a complex troubleshooting or during a prod release they become very interesting to get a better insight of what is going on.

Instead of changing your application logging level or complex internal filtering tool, it is now possible to change what is indexed or not directly with the Datadog index filters.

Enable or disable them in one click in the pipeline page:

{{< img src="logs/dynamic_volume_control/enable_index_filters.png" alt="" responsive="true" popup="true" style="width:80%;">}}

## Further Reading

{{< partial name="whats-next/whats-next.html" >}}

[1]: /logs/explore/#facets
[2]: /logs/graph/
[3]: /logs/graph/#dashboard
[4]: /monitors/monitor_types/log/
[5]: https://app.datadoghq.com/logs/pipelines