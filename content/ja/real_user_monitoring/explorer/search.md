---
title: RUM 検索
kind: documentation
further_reading:
  - link: /real_user_monitoring/explorer/analytics/
    tag: ドキュメント
    text: イベントに関する分析クエリを構築しましょう。
---
## 検索構文

クエリは条件と演算子で構成されます。

条件には 2 種類あります。

* **単一条件**は、1 つの単語です (`test`、`hello` など)。

* **シーケンス**は、二重引用符で囲まれた単語のグループです (`"hello dolly"` など)。

複合クエリで複数の条件を組み合わせるには、以下のブール演算子を使用します。

| **演算子** | **説明**                                                                                       |
|--------------|-------------------------------------------------------------------------------------------------------|
| `AND`        | **積**: 選択されたビューから両方の条件を含む結果を検索します (何も追加しない場合は AND がデフォルトで採用されます) |
| `OR`         | **和**: 選択されたビューからいずれかの条件を含む結果を検索します                                             |
| `-`          | **除外**: ビューからこの条件を除いた結果を検索します                                                  |

### オートコンプリート

検索バーのオートコンプリート機能を使用すると、既存の値を使用してクエリを完成させることができます。

{{< img src="real_user_monitoring/explorer/search/search_bar_autocomplete.png" alt="検索バーのオートコンプリート"  style="width:60%;">}}

## ファセット検索

特定の属性を検索するには、まず[それをファセットとして追加][1]し、次に `@` を追加してファセット検索を指定します。

たとえば、ファセット名が **url** で、**url** の値 www.datadoghq.com で絞り込む場合は、次のように入力します。

`@url:www.datadoghq.com`

### 特殊文字のエスケープ

特殊文字を含むファセット値を検索する場合は、エスケープ処理または二重引用符の追加が必要です。`?`, `>`, `<`, `:`, `=`,`"`, `~`, `/` は特殊文字とみなされるため、`\` でエスケープする必要があります。

ビューのファセット名にスペースが含まれる場合も同じです。通常、ファセット名はスペースを含むべきではありませんが、万が一含まれている場合は同様にエスケープしてください。ファセット名が `user.first name` なら、`@user.first\ name:myvalue` のようにエスケープした形でファセット検索を行います。

### ワイルドカード

マルチバイト文字のワイルドカード検索を行う場合は、`*` 記号を使用します。たとえば、`@http.url:https:\/\/*` で検索すると、`https://` で始まる URL を含むすべてのビューが返されます。 

### 数値

数値属性の検索には `<`、`>`、`<=`、`>=` を使用します。たとえば、応答時間が 100ns を超えるすべてのビューを検索する場合は次のようになります。

`@duration:>100`

特定の範囲内にある数値属性の検索も可能です。たとえば、応答時間が 100ns ～ 300ns のすべてのビューを検索する場合は次のようになります。

`@duration:[100 TO 300]`

## 例

`@http.url_details.path:"/api/v1/test"`
: `http.url_details.path` 属性内で、`/api/v1/test` を含むすべてのビューを検索します。

`@http.url:\/api\/v1\/*`
: `http.url` 属性内で、`/api/v1/` で始まる値を含むすべてのビューを検索します。

`@duration:[100 TO 300] @http.url_details.path:\/api\/v1\/*`
: 応答時間 (`duration`) が 100 ～ 300ns かつ `http.url_details.path` 属性内で `/api/v1/` で始まる値を含むすべてのビューを検索します。

## その他の参考資料

{{< partial name="whats-next/whats-next.html" >}}

[1]: /ja/real_user_monitoring/explorer/#setup---facets--measures