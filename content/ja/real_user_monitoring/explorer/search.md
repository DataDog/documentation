---
further_reading:
- link: /real_user_monitoring/explorer/group/
  tag: ドキュメント
  text: クエリ RUM イベントのグループ化
- link: /real_user_monitoring/explorer/visualize/
  tag: ドキュメント
  text: イベントへの視覚化の適用
kind: documentation
title: RUM イベントの検索
---

## 概要

右上の時間範囲を適用した後、RUM エクスプローラーで`key:value`のペアと全文検索でイベントを見つけることができます。

## イベントタイプ

RUM は自動的にイベントをキャプチャしますが、自分でイベントをキャプチャすることも可能です。自動キャプチャされたイベントとカスタムイベントはすべて、[ブラウザ][1]、[iOS][2]、[Android][3]、[React Native][4] アプリケーション用の 6 つのイベントタイプに保存され、インデックス化されて検索可能になります。

| イベントタイプ | 保存期間 | 説明                                                                                                                                                                                                                                                               |
|------------|-----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| セッション    | 30 日   | ユーザーセッションは、ユーザーが Web アプリケーションの閲覧を始めると開始されます。これには、ユーザーに関する高レベルの情報 (ブラウザー、デバイス、ジオロケーションなど) が含まれています。これは、ユーザージャーニー中に収集されたすべての RUM イベントを一意の `session.id` 属性で集約します。 |
| ビュー       | 30 日   | ビューイベントは、ユーザーが Web アプリケーションのページにアクセスするたびに生成されます。ユーザーが同じページにいる間、リソース、ロングタスク、エラー、アクションのイベントは、`view.id` 属性を使用して関連する RUM ビューにリンクされます。                                   |
| アクション     | 30 日   | RUM アクションイベントは、ユーザージャーニー中のユーザーインタラクションを追跡し、カスタムユーザーアクションを監視するために手動で送信することができます。                                                                                                                                                  |
| エラー      | 30 日   | RUM は、ブラウザによって発行されたすべてのフロントエンドエラーを収集します。                                                                                                                                                                                                                 |
| Resource   | 15 日   | リソースイベントは、Web ページにロードされた画像、XHR、Fetch、CSS、または JS ライブラリに対して生成されます。詳細なロードタイミング情報が含まれています。                                                                                                                          |
| ロングタスク  | 15 日   | ロングタスクイベントは、メインスレッドを 50 ミリ秒以上ブロックするブラウザ内のすべてのタスクに対して生成されます。                                                                                                                                                                |

RUM イベントを検索するには、検索バーの左側にあるドロップダウンメニューから、イベントタイプを選択します。

{{< img src="real_user_monitoring/explorer/search/rum-explorer-search-4.png" alt="RUM エクスプローラー" style="width:100%;">}}

## 検索クエリ

特定のアプリケーションで過去 1 日間に実際のユーザーによって生成されたセッションをフィルタリングするには、トップナビゲーションからアプリケーションセレクタを使用し、それから `@session.type:user` のようなカスタムクエリを作成し、時間範囲を `1d` に設定します。

**注:** クエリにファセットを含める場合は、必ず最初にファセットを作成してください。

### 検索構文

RUM イベントの検索とタイムフレームの使用については、[検索構文][5]と[カスタムタイムフレーム][6]を参照してください。

## ファセットとメジャーの設定

すべての RUM イベントには、RUM SDK によって自動的に収集される属性と、[イベントサイドパネル][7]に表示されるユーザー独自の属性が含まれています。

自動的に収集された属性のほとんどはインデックス化およびファセット化されていますが、カスタムイベントの属性はデフォルトではインデックス化およびファセット化されていません。ファセットまたはメジャーを作成してこれらの属性をインデックス化し、検索や[視覚化][8]でアクセスできるようにします。

### ファセット

ファセットには、1 つの属性またはタグの個別メンバーがすべて表示されると共に、表示された RUM イベントの数などの基本的な分析が提供されます。ファセットを使用すると、特定の属性に基づきデータセットの絞り込みや切り口の切り替えができます。値を選択すると、検索バーでフィルターが適用されます。

{{< img src="real_user_monitoring/explorer/rum-facet-3.png" alt="イベントリストの左側にあるファセットのリスト" style="width:90%;">}}

ファセットを作成するには、[イベントサイドパネル][7]で属性を探してクリックします。これにより、サイドパネルの値の属性のセクション ("Country subdivision" など) が作成されます。

{{< img src="real_user_monitoring/explorer/create_facet.png" alt="ファセットの作成" style="width:40%;">}}

また、左側のパネルから **+ Add** をクリックし、ファセットへのパスを入力または選択することで、セッションのメタデータをファセットにすることができます (例: Virginia)。

{{< img src="real_user_monitoring/explorer/create-facet-3.png" alt="ファセット一覧から +Add ボタンでファセットを作成します" style="width:40%;">}}

**Advanced options** をクリックすると、表示名、タイプ、グループ、説明など、ファセットをさらにカスタマイズすることができます。

{{< img src="real_user_monitoring/explorer/create-facet-2.png" alt="新しいファセットの高度なオプション" style="width:40%;">}}

この属性の値は、新しいすべてのビューに保存されます。これらの属性は、検索バー、**Facets** パネル、および[視覚化][8]でアクセスすることができます。

### メジャー

メジャーは、RUM イベントに含まれる数値を持つ属性です。

メジャーを作成するには、[イベントサイドパネル][7]で数値属性を見つけてクリックします。

{{< img src="real_user_monitoring/explorer/create_measure.png" alt="メジャーの作成" style="width:40%;">}}

この属性の値は、新しいすべての RUM イベントに保存されます。これらの属性は、検索バー、**Facets** パネル、および[視覚化][8]でアクセスすることができます。

{{< img src="real_user_monitoring/explorer/edit_measure.png" alt="メジャーの編集" style="width:40%;">}}

すべてのメジャーには単位があり、[RUM エクスプローラー][9]および[可視化][8]の列で表示されます。

## ファセット検索

特定の属性を検索するには、[ファセットとして追加](#facets)し、検索クエリに `@` と入力してください。これは、ファセットを検索することを指定します。

たとえば、ファセット名が **url** で、**url** の値 `www.datadoghq.com` で絞り込む場合は、`@url:www.datadoghq.com` と入力します。

## その他の参考資料

{{< partial name="whats-next/whats-next.html" >}}

[1]: /ja/real_user_monitoring/browser/data_collected/
[2]: /ja/real_user_monitoring/android/data_collected/
[3]: /ja/real_user_monitoring/ios/data_collected/
[4]: /ja/real_user_monitoring/reactnative/
[5]: /ja/real_user_monitoring/explorer/search_syntax/
[6]: /ja/dashboards/guide/custom_time_frames
[7]: /ja/real_user_monitoring/explorer/events/
[8]: /ja/real_user_monitoring/explorer/visualize#timeseries
[9]: /ja/real_user_monitoring/explorer/