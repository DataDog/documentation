---
title: 不安定なテストの管理
kind: ガイド
aliases: /continuous_integration/guides/find_flaky_tests/
---

_不安定なテスト_は、同じコミットの複数のテスト実行で成功と失敗の両方のステータスを示すテストです。コードをコミットして CI を介して実行し、テストが失敗し、CI を介して再度実行してテストが成功した場合、そのテストは品質コードの証明として信頼できません。

不安定なテストは、CI システムと最終製品にリスクと予測不可能性をもたらします。どのテストが不安定であるかを覚えておく必要があると、テスト結果への信頼が失われ、パイプラインの再試行に多大な時間とリソースが浪費されます。

Test Service ページに移動して、特定のテストサービスとブランチの _Flaky Tests_ テーブルを確認します。選択した時間枠で不安定なすべてのテストを確認できます。

{{< img src="ci/flaky-test-management.png" alt="Test Service ページの Flaky Tests テーブル" style="width:100%;">}}

アプリは、これに関して次の情報を提供することにより、不安定なテストに優先順位を付けるのに役立ちます。

* **Average duration**: テストの実行にかかる平均時間。
* **First and Last flaked**: テストが最初および最後に不安定な動作を示した日付とコミット SHA。
* **Occurrences**: テストが不安定な動作を示したコミットの数。
* **Failure Rate**: このテストが最初に不安定になってから失敗したテスト実行の割合。
* **Trend**: 不安定なテストが修正されたか、まだ不安定かを示す視覚化。

修正する不安定なテストを特定したら、テストをクリックしてリンクを表示し、最後に失敗したテスト実行または最初の不安定なテスト実行を表示します。

## 修復

不安定なテストは、過去 30 日間失敗しなかった場合、テーブルから自動的に削除されます。テスト行にカーソルを合わせると表示されるごみ箱アイコンをクリックして、不安定なテストを手動で削除することもできます。不安定な動作を再度示された場合は、再度追加されます。

## 新しい不安定なテストを確認する

1. Tests ページで、**Branches** ビューを選択します。

2. テーブルをフィルタリングして、関心のあるブランチ、サービス、またはコミットを確認します。

3. **New Flaky** 列を見て、最新のコミットでもたらされた新しい不安定なテストの数を確認します。これは、以前は Flaky Tests テーブルに存在しなかった不安定な動作を示すテストです。

