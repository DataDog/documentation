---
aliases:
- /ja/developers/ide_integrations/idea/
disable_toc: false
further_reading:
- link: /getting_started/profiler/
  tag: Documentation
  text: Getting started with Continuous Profiler.
- link: /integrations/guide/source-code-integration/
  tag: Documentation
  text: Learn about Source Code Integration.
- link: /static_analysis/?tab=githubactions
  tag: Documentation
  text: Learn about Static Analysis.
- link: https://www.jetbrains.com/lp/toolbox/
  tag: External Site
  text: Learn about the JetBrains Toolbox.
- link: https://www.datadoghq.com/blog/datadog-ide-plugins/
  tag: Blog
  text: Reduce context switching while troubleshooting with Datadog's IDE plugins
is_beta: true
title: Datadog Plugin for JetBrains IDEs
---

## 概要

The Datadog plugin for JetBrains IDEs is available for IDEA, GoLand, PhpStorm, and PyCharm. It helps you improve software performance by providing meaningful code-level insights directly in the IDE based on real-time observability data.

{{< img src="/developers/ide_plugins/idea/overview1.png" alt="The Datadog tool window open in IDEA" style="width:100%;" >}}

**Code Insights** ビューでは、次のような情報が得られます。
- [エラー追跡][6]からの問題
- Application Security Management による[脆弱性][8]レポート
- CI Visibilityで検出された[不安定なテスト][9]

**Continuous Profiler** は、以下をハイライトすることで、レイテンシーを削減し、クラウドのコストを削減するのに役立ちます。
- 最も多くの CPU を消費するコードライン
- メモリを最も多く割り当てるコードライン
- ロック、ディスク I/O、ソケット I/O に最も多くの時間を費やしているコードライン

The **Logs** support shows observed logs in source code, as detected from [Log patterns][15], and provides links to the Datadog Log Explorer to view logs generated by a specific line of code.

The **CI Test Runs** feature opens the Continuous Integration Visibility Explorer to show recent runs for a selected test.

The **Static Analysis** integration analyzes your code (locally) against predefined rules to detect and fix problems before you commit changes.

## 要件

- **A Datadog account**: The plugin requires a Datadog account (except when using [Static Analysis][13] features). If you're new to Datadog, go to the [Datadog website][3] to learn more about Datadog's observability tools and sign up for a free trial.
- **Continuous Profiler**: プロファイリングデータとインサイトを表示するには、プラグインを使用するサービスに Continuous Profiler が構成されている必要があります。詳細については、[Continuous Profiler の概要][2]を参照してください。
- **JetBrains Toolbox**: [View in IDE](#view-in-ide) 機能を使用するには、開発者のマシンに [JetBrains Toolbox][7] がインストールされている必要があります。

## セットアップ

### Datadog プラグインをインストールする

1. **Plugins** をクリックし、`Datadog` を検索します。
1. **Install** をクリックすると、プラグインがダウンロードされ、IDE にインストールされます。
1. Datadog がサードパーティのプラグインであることを通知するプロンプトが表示された場合、**Accept** をクリックします。
1. **Restart IDE** をクリックします。

{{< img src="/developers/ide_plugins/idea/install-plugin.png" alt="The Datadog plugin" style="width:100%;" >}}

または、[JetBrains Marketplace][4] からプラグインをインストールすることができます。

<span id="datadog_plugin_install_button"></span>

### Datadog にログインする

Datadog プラグインをインストールし、IDE を再起動した後、Datadog にログインします。
1. IDE でファイルまたはプロジェクトを開いた状態で、**Datadog** ツールウィンドウをクリックします。
1. **Log in...** をクリックします。
1. ブラウザで開いたウィンドウで、サイトと組織を選択し、プラットフォームへのアクセスを認可します。

**注**: ほとんどのユーザーにとって、必要なログインは 1 つだけです。複数の組織設定を使用している場合は、正しいアカウントがアクティブであることを確認してください。IDE がどのログインを使用しているかを確認するには、**Settings** -> **Tools** -> **Datadog** をクリックし、どのアカウントがアクティブになっているかを確認します。

### サービスのリンク

Datadog プラットフォームから関連データを提供するには、プロジェクトに関係サービスを追加します。
1. IDE でプロジェクトを開いた状態で、**Datadog** ツールウィンドウを開き、**Options** メニューから **Manage Linked Services...** を選択します。
1. 設定ダイアログが開きますので、プラスアイコン (**+**) をクリックします。
1. 現在のプロジェクトに追加したいサービスを検索して選択します。

サービスを削除するには、**Services** 表でサービスを選択し、マイナスアイコン (**-**) をクリックします。

<div class="alert alert-info">リンクされたサービスの名前は、プロジェクトを閉じても残ります。</div>

## コードインサイト
**Code Insights** タブには、Datadog プラットフォームによって生成された、現在のプロジェクトに関連するインサイトが表示されます。洞察は、パフォーマンス、信頼性、セキュリティの 3 つのカテゴリーに分類されます。

{{< img src="/developers/ide_plugins/idea/code-insights-2.png" alt="The Code Insights tab." style="width:100%;" >}}

Code Insights には、各問題の詳細な説明と以下へのリンクが含まれています。
- 関連するソースコードの場所
- Datadog プラットフォーム (追加情報が得られます)

個々のインサイトを解除したり、フィルターを設定して、関心のあるインサイトのカテゴリーを表示することができます。

## Continuous Profiler

**Continuous Profiler** タブは、選択した環境におけるサービスのプロファイリング情報を、特定の時間枠で集計して表示します。利用可能なビューは次のとおりです。
- [トップリスト](#top-list): 現在のプロファイリングメジャーで最もリソースを消費するメソッドのリストを表示します。
- [フレームグラフ](#flame-graph): プロファイルのスタックトレースを表すフレームグラフ。

プロファイリングデータには、以下のパラメーターを指定することができます。
- 表示するプロファイルの種類
- サービスが動作している環境
- プロファイラーサンプルが集計されるまでの期間

利用可能なプロファイリングの種類は、通常、**CPU Time** や **Allocated Memory** などのオプションがありますが、プラットフォームによって決定され、言語によって変化します。

### Toplist

The **Top List** sub-tab shows the methods that consume the most resources based on the aggregated profile data loaded from the Datadog servers. These are the methods that are most likely candidates for optimization.

{{< img src="/developers/ide_plugins/idea/top-list1.png" alt="The Top-list view" style="width:100%;" >}}

- リスト内の項目をダブルクリック (またはコンテキストメニューから **Jump to Source** を選択) すると、そのメソッドが定義されている場所を示すソースコードエディターが開きます。
- メソッドのフレームグラフ視覚化を見るには、コンテキストメニューから **Search in Flame Graph** を選択します。

#### コールツリー

**Top List** の右側にあるコールツリーには、選択したメソッドにつながる (およびメソッドからつながる) パスが表示されます。

デフォルトの **Caller Hierarchy** ビューには、ターゲットメソッドの呼び出し元 (または先行者) と、それらがコールスタックに表示される頻度が表示されます。呼び出し先 (または後継者) を表示するには、ツールバーの **Callee Hierarchy** ボタンをクリックします。

コールツリー内のメソッドを右クリックすると、ソースエディタまたはフレームグラフに移動するオプションが表示されます。

### フレームグラフ

フレームグラフは、プロファイリングサンプルを視覚化したもので、サンプル期間中のスタックトレースとその相対的な頻度を表示するものです。Datadog プラグインは、リクエストされた時間枠から複数の個別プロファイリングを収集し、それらを集計します。個々のプロファイラーは、リクエストされた時間枠内の 60 秒のインターバルをカバーします。

{{< img src="/developers/ide_plugins/idea/flamegraph1.png" alt="A flame graph showing CPU Time over the past hour" style="width:100%;" >}}

プロファイルの種類、時間枠、環境を変更するたびに、Datadog プラグインは新しいフレームグラフを生成します。

フレームグラフは、いくつかの方法で操作することができます。
- 任意のフレームをダブルクリックすると、そのメソッドと、サンプリング期間中にそのメソッドが呼び出したすべてのメソッドにフォーカスされます。
- ミニマップを使って、グラフをパンすることができます。
- メソッド上で右クリックし、**Jump to Source** を選択すると、ソースコード内の対応する箇所に移動します。

メソッドにカーソルを合わせると、以下の情報がツールチップに表示されます。
- クラス名とメソッドのシグネチャ
- パッケージ名
- プロファイリングメトリクスの値と割合の内訳。

プロファイリングサンプルには、スタックトレースと行番号の情報が含まれています。**Separate Flame Graph by** ボタンで、フレームをメソッドで区切るか行番号で区切るかを切り替えます。

{{< img src="/developers/ide_plugins/idea/separate-flamegraph-by.png" alt="Use the tooltip button to separate frames by method or line number" style="width:40%;" >}}

### ソースハイライト

Continuous Profiler タブがアクティブな場合、プラグインはソースコードエディターマージンにコードのハイライトを追加します。トップメソッドの場合、エディターマージンにアイコンが表示され、アクティブなプロファイリングデータに基づいてコードに行レベルのハイライトが表示されます。
- アイコンにカーソルを合わせると、詳細が表示されます。
- アイコンをクリックして、トップリストのプロファイリングタブを開くか、Datadog のプロファイリングを開きます。
  {{< img src="/developers/ide_plugins/idea/interest-options.png" alt="Click the Datadog icon to open the Profiling data in a tab or in Datadog" style="width:100%;" >}}

The active Profiling tab also affects the project tree view, which is annotated with the selected profile's metrics:
{{< img src="/developers/ide_plugins/idea/project-tree-view.png" alt="The project tree annotated with profile metrics from a profile tab" style="width:60%;" >}}

## Logs insights

Log patterns from Datadog are matched directly to lines of code in your editor for your Java, Go, and Python source files:
{{< img src="/developers/ide_plugins/idea/log-patterns.png" alt="A log line showing log events from Datadog" style="width:100%;" >}}

A popup shows runtime values from the log entries:
{{< img src="/developers/ide_plugins/idea/log-patterns-popup.png" alt="A popup showing log patterns from Datadog" style="width:100%;" >}}

Click the log icon to open the [Log Explorer][5] on the Datadog platform with a pre-filled query that matches the logger name, log level, and log message as closely as possible:
{{< img src="/developers/ide_plugins/idea/log-explorer-link.png" alt="A source file showing a View Logs icon and link." style="width:100%;" >}}

## CI Test Runs
You can view recent test runs in the [Continuous Integration Visibility Explorer][12] by navigating directly from your source files. Look for the **View Test Runs** links following test method declarations in your source code:

{{< img src="/developers/ide_plugins/idea/ci-navigation.png" alt="A source file showing a View Test Runs link." style="width:100%;" >}}

Clicking the link opens the **Test Runs** tab showing the recent history for one test case.

## View in IDE

The **View in IDE** feature provides a link from the Datadog platform directly to the source files in your IDE. Look for the button next to frames in stack traces displayed on the platform (for example, in [Error Tracking][6]):

{{< img src="/developers/ide_plugins/idea/view-in-idea.png" alt="A stack trace on the Datadog platform showing the View in IntelliJ button." style="width:100%;" >}}

<div class="alert alert-info">この機能には 2 つの前提条件があります。(1) ソースコードインテグレーションがサービスに構成されていることと、(2) JetBrains Toolbox が開発マシンにインストールされていることです。</div>

## 静的分析
The Datadog plugin runs [Static Analysis][13] rules on your source files as you edit them. The goal is to detect and fix problems such as maintainability issues, bugs, or security vulnerabilities in your code before you commit your changes. 

Static Analysis supports scanning for many programming languages. For a complete list, see [Static Analysis Rules][14]. For file types belonging to supported languages, issues are shown in the source code editor with the JetBrains inspection system, and suggested fixes can be applied directly:

{{< img src="/developers/ide_plugins/idea/static-analysis-issue.png" alt="A static analysis rule violation and recommended fix." style="width:100%;" >}}

Additionally, all issues detected by this feature are listed in the standard **Problems** view.

### はじめに
Static Analysis がサポートするソースファイルの編集を開始すると、プラグインはソースリポジトリの root に `static-analysis.datadog.yml` があるかどうかをチェックします。必要であれば、ファイルを作成するように指示されます。

{{< img src="/developers/ide_plugins/idea/static-analysis-onboard.png" alt="A banner for onboarding." style="width:100%;" >}}

Once the configuration file is created, the static analyzer runs automatically in the background.

<div class="alert alert-info">The Static Analysis feature does not require a Datadog account as source files are analyzed locally.</div>

## フィードバック

ご意見は[ディスカッションフォーラム][1]にアクセスするか、[team-ide-integration@datadoghq.com][11] までメールをお送りください。

## 参考資料

{{< partial name="whats-next/whats-next.html" >}}

<script src="https://plugins.jetbrains.com/assets/scripts/mp-widget.js"></script>
<script>
  // Web ページの #yourelement を実際の要素 ID に置き換えてください
  MarketplaceWidget.setupMarketplaceWidget('install', 19495, "#datadog_plugin_install_button");
</script>

[1]: https://github.com/DataDog/datadog-for-intellij/discussions
[2]: /ja/getting_started/profiler/
[3]: https://www.datadoghq.com/
[4]: https://plugins.jetbrains.com/plugin/19495-datadog
[5]: /ja/logs/explorer/
[6]: /ja/tracing/error_tracking/
[7]: https://www.jetbrains.com/lp/toolbox/
[8]: /ja/security/application_security/vulnerability_management/
[9]: /ja/continuous_integration/guides/flaky_test_management/
[11]: mailto:team-ide-integration@datadoghq.com
[12]: /ja/continuous_integration/explorer/?tab=testruns
[13]: /ja/static_analysis/?tab=githubactions
[14]: /ja/static_analysis/rules/#python-rules
[15]: /ja/logs/explorer/analytics/patterns/