---
code_lang: ruby
code_lang_weight: 30
title: Ruby 互換性要件
type: multi-code-lang
---

## ASM の機能サポート

Ruby ライブラリでは、指定されたトレーサーのバージョンで、以下の ASM 機能がサポートされています。

| ASM の機能                   | Ruby トレーサーの最小バージョン |
| -------------------------------- | ----------------------------|
| Threat Detection  | 1.9.0  |
| Threat Protection | 1.11.0 |
| オープンソースソフトウェア (OSS) の脆弱性管理 | 非対応 |
| コードレベルの脆弱性管理 (ベータ版) | 非対応 |

Ruby でサポートされるすべての ASM 機能を得るためのトレーサーの最小バージョンは 1.11.0 です。

<div class="alert alert-info">サポートされていない機能または Ruby フレームワークのサポート追加を希望される場合は、お知らせください！<a href="https://forms.gle/gHrxGQMEnAobukfn7">この短いフォーム</a>に必要事項を記入して、詳細を送信してください。</div>

### サポートされるデプロイメントタイプ
|タイプ | 脅威検知のサポート | OSSの脆弱性管理のサポート |
| ---   |   ---             |           ----        |
| Docker | {{< X >}}  |  |
| Kubernetes | {{< X >}}  | | 
| AWS ECS | {{< X >}}  | |
| AWS Fargate | {{< X >}}  | |
| AWS Lambda |  | | 

## 言語とフレームワークの互換性


**サポートされる Ruby インタプリター**
Datadog Ruby ライブラリは、以下の Ruby インタプリターの最新 gem をサポートしています。

- [MRI][2] バージョン 2.1～3.1

これらは、以下のアーキテクチャでサポートされています。
- Linux (GNU) x86-64、aarch64
- Alpine Linux (musl) x86-64、aarch64
- macOS (Darwin) x86-64、arm64

### サポートされる Web サーバー
- 攻撃元の HTTP リクエストの詳細
- HTTP リクエスト用のタグ (ステータスコード、メソッドなど)
- アプリケーション内の攻撃フローを確認するための分散トレーシング

##### ASM の機能に関する備考
- **Vulnerability Management for OSS** はサポートされていません
- **Vulnerability Management for Code** はサポートされていません

| フレームワーク                | 脅威検知のサポートの有無 | 脅威保護のサポートの有無 |
| ------------------------ | ----------- | --------------- |
| Rack          |  {{< X >}} |  {{< X >}} |
| Rails         |  {{< X >}} |  {{< X >}} |
| Sinatra       |  {{< X >}} |  {{< X >}} |
| Grape         |  {{< X >}} |  {{< X >}} |
| Unicorn       |  {{< X >}} |  {{< X >}} |
| Passenger     |  {{< X >}} |  {{< X >}} |

| Framework Web Server    | フレームワークの最小バージョン   |
| ----------------------- | --------------------------- |
| Rack                    | 1.1                         |
| Rails                   | 3.2 (Ruby のバージョンにも依存します) |
| Sinatra                 | 1.4                         |

### ネットワーキングフレームワークの互換性

**ネットワーキングのトレーシングでは以下の確認が可能です**

- アプリケーションの分散トレーシング
- リクエストベースのブロッキング

##### ASM の機能に関する備考
- **Vulnerability Management for OSS** はサポートされていません
- **Vulnerability Management for Code-level** はサポートされていません

| フレームワーク         | 脅威検知のサポートの有無    | 脅威保護のサポートの有無                                              |
|-------------------|-----------------|--------------------------------------------------------------------------|
| Rack         | {{< X >}} | {{< X >}}  |

<div class="alert alert-info">ご希望のフレームワークが掲載されていない場合は、お知らせください！<a href="https://forms.gle/gHrxGQMEnAobukfn7">この短いフォーム</a>に必要事項を記入して、詳細を送信してください。</div>


### データストアの互換性

**データストアのトレーシングでは以下の確認が可能です**

- SQL 攻撃の検知
- クエリ情報 (サニタイジングされたクエリ文字列など)
- エラーとスタックトレースの取得

##### ASM の機能に関する備考
- **Vulnerability Management for OSS** はサポートされていません
- **Vulnerability Management for Code-level** はサポートされていません
- **Threat Protection** は HTTP リクエスト (input) レイヤーでも機能するため、下表に掲載されていなくても、デフォルトですべてのデータベースで機能します。

| フレームワーク         | 脅威検知のサポートの有無    | 脅威保護のサポートの有無                                              |
|-------------------|-----------------|--------------------------------------------------------------------------|
| MongoDB        | {{< X >}} |   {{< X >}}    |
| Active Record        | {{< X >}} |   {{< X >}}    |
| MySQL2        | {{< X >}} |   {{< X >}}    |
| Presto        | {{< X >}} |   {{< X >}}    |
| Resque        | {{< X >}} |   {{< X >}}    |
| Sequel        | {{< X >}} |   {{< X >}}    |
| Elasticsearch     | {{< X >}} |   {{< X >}}    |


[1]: /ja/tracing/trace_collection/compatibility/ruby/
[2]: https://www.ruby-lang.org/