---
aliases:
- /ja/graphing/notebooks/
further_reading:
- link: https://www.datadoghq.com/blog/incident-management-templates-notebooks-list/
  tag: ブログ
  text: ドキュメントライブラリの作成と使用
- link: https://www.datadoghq.com/blog/collaborative-notebooks-datadog/
  tag: ブログ
  text: コラボレーション型ノートブックでデータにデータドリブンの背景情報を追加
- link: https://www.datadoghq.com/blog/incident-postmortem-process-best-practices/
  tag: ブログ
  text: インシデントの事後分析を作成するためのベストプラクティス
- link: https://www.datadoghq.com/blog/automate-security-tasks-with-workflows-and-cloud-siem/
  tag: blog
  text: Datadog Workflows と Cloud SIEM で、一般的なセキュリティタスクを自動化し、脅威の先を行く
kind: documentation
title: ノートブック
---

## 概要

ノートブックは、グラフとテキストを組み合わせて 1 列のセル形式で表示し、事後分析、調査、ランブック、ドキュメントなどを作成することで、データの背景情報を調査したり共有したりできます。

## はじめに

1. メインナビゲーションの **Notebooks > New Notebook** から、[新しいノートブック][1]を構築します。

2. **Save Notebook** ボタンをクリックします。</br>
  **注**: 新しいノートブックは、デフォルトでは保存されません。

3. [サポートされているグラフやテキストコンテンツ](#types-of-content)を使って、ノートブックに新しいセルを追加します。

4. [セルを構成します](#cell-configuration)。

## コラボレーション

{{< img src="notebooks/collaboration.png" alt="ユーザーがノートブックを閲覧し、ライブエディットを行っていることを示すインジケーター" style="width:100%;">}}

ノートブックは、リアルタイムのコラボレーションをサポートします。プレゼンスインジケーターは、ノートブックを誰が見ているか、またノートブックのセルをリアルタイムで編集しているかを表示します。ノートブックに加えられた変更は、更新することなく、自動的に表示されます。

チームの誰もが任意のノートブックを開くことができますが、ノートブックを変更または削除できるのは、`Notebooks Write` 権限を持つ Datadog ロールに限られます。

### コメントの作成

コメントを追加するには、テキストを選択するか、グラフにカーソルを合わせます。セルの右側に **Add comment** のアイコンが表示されます。コメントから、`@mention` 機能でチームのメンバーに通知することもできます。書いたコメントを編集したり削除したりするには、コメントの右上にある 3 つの縦長の点をクリックします。解決したコメントは、ノートブックの歯車メニューにある Comment History サイドパネルで表示したり、再度開いたりすることができます。

ノートブックへ新規コメントがあると、ノートブックの作成者に通知が送信され、コメントに返信があるとコメントの作成者に通知が送信されます。通知設定を管理するには、ノートブックのメニュー（歯車）にある `Notifications` を使用します。

### ビューモード

{{< img src="notebooks/read_mode.png" alt="ビューモードドロップダウンメニュー" style="width:100%;">}}

ノートブックの右上にあるドロップダウンを選択することで、ノートブック内からモードを切り替えることができます。

- **Editing**: ノートブックに変更を加えます。

- **Viewing**: コンテンツは読み取り専用で、既存の構成や情報をユーザーが不要に編集することを防ぎます。

- **Presenting**: 各セルがスライドとして表示される表示形式で、ノートブックの内容を共有します。プレゼンテーションモードでは、ツールチップや凡例などのグラフのインタラクションをサポートしています。

## ノートブックの共有

ノートブックの右上にある歯車のアイコンをクリックすると、共有オプションが表示されます。ノートブックは、PDF、Markdown などのドキュメントエディタにエクスポートできます。

ノートブックをドキュメントエディタにコピーするには、**Copy formatted contents** をクリックします。Google ドキュメントや Microsoft Word などのドキュメントエディタに貼り付けて、グラフを含むノートブックのコンテンツを元の形式で表示します。

{{< img src="notebooks/export-to-gdocs.jpeg" alt="Google ドキュメントでのノートブックのエクスポートの例"  style="width:100%;">}}

### ノートブック JSON のインポートまたはエクスポート

ノートブックの定義を含む JSON ファイルをダウンロードするには、**Export Notebook JSON** を使用します。**Import Notebook JSON** を使用すると、ノートブックのすべてのコンテンツがアップロード済みの JSON コンテンツで上書きされます。

### 個々のセルへのリンク設定

セルの **Share** メニューの **Link directly to cell** をクリックすると、特定のセルの URL をコピーすることができます。直接リンクは、視覚化のセルと Markdown のセルの両方で利用できます。

ユーザーが特定のセルの URL にアクセスすると、ノートブックが開き、ビューポートの上部にセルが表示されます。絶対リンクのため、セルの URL はノートブック内で新しい位置に移されたとしても、変わることはありません。

## ノートブック一覧

{{< img src="notebooks/notebook_list.png" alt="選択したノートブックのセルの種類をプレビューするノートブック一覧" style="width:100%;">}}

[ノートブック一覧][2]で、以前に作成したノートブックの表示と検索ができます。各ノートブックの名前、作成者、最終更新日が表示されます。ノートブックは以下のグループに分けられます。

* **Your Notebooks**: 自分が作成したノートブック。
* **All Notebooks**: 組織内のすべてのノートブック。
* **[Notebook Type](#notebook-types)**: ノートを種類別に分類します。

任意のノートブックのプレビューアイコンにカーソルを合わせると、ウィジェットタイプや Markdown を含むコンテンツのプレビューが表示されます。[ビューモード](#view-mode)でノートブックを開くには、ノートブックにカーソルを合わせ、右側にある **Open notebook in view mode** をクリックします。

## テンプレートギャラリー
[テンプレートギャラリー][3]では、新しいノートブックを作成するための、すぐに使えるテンプレートが紹介されています。テンプレートには、インシデントレスポンスのポストモーテム、インシデントレポート、SLO 仕様が含まれます。また、新しいカスタムテンプレートを作成し、再利用可能なノートブック構造を構築することもできます。

## バージョン履歴
ノートブックから ** Configure** アイコンをクリックし、**Version history** をクリックすると、バージョン履歴のサイドパネルが表示されます。ノートブックのバージョン履歴をプレビューしたり、復元したり、複製したりすることができます。詳しくは、[バージョン履歴ガイド][4]を参照してください。

## ノートブックの構成

### タイムフレーム

デフォルトでは、すべてのグラフセルはノートブックのヘッダに設定されたグローバルなタイムフレームにリンクされています。

別のタイムフレームを表示するには、グローバルタイムピッカーでオプションを選択するか、グラフを直接スクラブします。ノートブック URL は、ノートブックに保存することなく、この新しいタイムフレームを反映するように更新されます。

**注**: クリックアンドドラッグしてグラフを拡大しても、セルのグローバルな時間を解除することはできません。この操作を行うと、ノートブックのグローバルなタイムフレームが変更されます。

{{< img src="notebooks/set_default_time.png" alt="Set Default Time ボタンでノートブックのグローバルタイムを保存する" style="width:100%;">}}

この時間をノートブックのデフォルトとして保存するには、**Set Default Time** をクリックします。グローバルタイムを、以前に保存したデフォルトのグローバルタイムに戻すには、リセットボタンをクリックします。

個々のセルは、グローバルタイムのリンクを解除し、独立したタイムフレームを設定することができます。

{{< img src="notebooks/cell_time.png" alt="セルがグローバルタイムとリンクしていない状態のセルタイムセレクター" style="width:100%;">}}

1 つのセルで別のタイムフレームを表示するには、そのセルを編集し、トグルを使用しグローバルタイムからリンクを解除します。タイムピッカーを使用するかグラフをスクラブして、タイムフレームを変更します。編集モードでの変更は、**Done** をクリックすると自動的に保存されます。変更内容を破棄するには、**Done** ではなく **Cancel** をクリックします。

### ノートブックタイプ

{{< img src="notebooks/add_notebook_type.png" alt="ノートブックでハイライトされたタイプ追加ボタン" style="width:100%;">}}

ノートブックをタイプ別に分類することで、関連する情報に素早くアクセスすることができます。インシデント管理やモニターなど、他の製品から構築されたノートブックには、自動的にタイプが割り当てられる場合があります。ノートブックのタイトルにカーソルを合わせると、タイプを追加または編集するためのオプションが表示されます。または、カーソルを合わせて表示される鉛筆のアイコンをクリックすると、タイプを編集することができます。

### グラフのスナップショット

ノートブックでは、期限切れになる可能性のあるグラフのスナップショットを自動的に取るように設定することができます。ノートブックの歯車メニューの **Turn on snapshots** をクリックして、この機能を有効にします。歯車メニューを使用して、スナップショットを表示したり、自動スナップショットをオフにしたりすることができます。自動スナップショットをオフにすると、既存のスナップショットへのアクセスが削除されます。

{{< img src="notebooks/cog_snapshots.png" alt="スナップショットをオンにする歯車メニューオプション" style="width:100%;">}}

 スナップショットが有効になっているノートブックは、固定の時間範囲 (たとえば `Aug 18, 12:00 am - Aug 19, 11:59 pm`) でグラフの静止画像を自動的にキャプチャします。このスナップショットは、新しいグラフに同じ時間範囲が設定されていれば、グラフの更新に合わせて更新されます。グラフをグローバルな時間範囲 (`Past 1 Hour` など) に変更すると、スナップショットは削除されます。

 固定時間のグラフの既存のスナップショットをプレビューするには、編集モードでカメラアイコンの上にカーソルを合わせます。

スナップショット付きのノートブックのバージョンを共有するには、歯車メニューから、**View snapshots** をクリックします。URL をコピーするか、スナップショットを有効にしているノートブックの URL に `&view=snapshots` を追加します。

### テンプレート変数

ノートブックはテンプレート変数をサポートしています。テンプレート変数の値を追加・選択することで、視覚化した内容を動的にスコープすることができます。詳しくは、[テンプレート変数][5]を参照してください。

### セルの構成

セルを追加するには、セルの左に表示される **+** ボタンを使用するか、ノートブックの下部にある **Add New Cell** のセクションからオプションを選択します。セルを共有、複製、削除するには、カーソルを置いたときにセルの上に表示されるアクショントレイを使用します。グラフセルは、ダッシュボードにエクスポートしたり、PNG やグラフデータの CSV としてダウンロードすることができます。編集モードでの変更は、**Done** をクリックすると自動的に保存されます。変更内容を破棄するには、**Done** ではなく、**Cancel** をクリックしてください。

#### オプションの編集

ウィジェットのインラインエディターで **More options** をクリックすると、ウィジェットのオプションが編集できます。イベントオーバーレイ、マーカー、Y 軸コントロールなどの詳細を追加します。

#### レイアウトオプション

ノートブックのセルで、**Edit** をクリックすると、セルの構成が編集モードで表示されます。また、利用可能なレイアウトオプションを見ることができます。レイアウトオプションは、セルのコンテンツタイプによって異なりますが、以下のようなものがあります。

* **グラフサイズ**: `XS`、`S`、`M` (デフォルト)、`L`、`XL`から選択。
* **グラフの凡例**: 凡例を非表示にするには、ボックスのチェックマークを外します。`XS` と `S` サイズのグラフでは、凡例は自動的に無効になります。
* **グループ化**: タグ値ごとに 1 つのグラフを表示し、複数の小さいグループに視覚化します。

{{< img src="notebooks/edit_cell_action_menu.png" alt="グラフサイズ、凡例、グループ化構成のレイアウトオプションを表示する編集モードのノートブックセルのグラフ設定オプション" style="width:100%;">}}

**注**: 設定の変更は対象となるセルにのみ影響します。

#### コンテンツの種類

ノートブックは、視覚化とテキストセルをサポートしています。テキストセルは [Markdown][6] でフォーマットされ、見出し、小見出し、リンク、イメージ、リスト、コードブロックを使用することが可能です。また、ノートブックでは、[MermaidJS][7] でフォーマットされたダイアグラムもサポートしています。

ノートブック内のグラフは、Datadog のすべてのデータソースに対応しています（メトリクス、ログイベント、インデックス化されたスパン、ライブプロセス、ネットワークトラフィック、RUM イベント、プロファイリングのメトリクス、セキュリティシグナルなど）。グラフは、Datadog のクエリエディターで作成します。ノートブックは以下に対応しています。

* [時系列][8]
* [トップリスト][9]
* [Table][10]
* [ヒートマップ][11]
* [ディストリビューション][12]
* [リスト][13]
* [クエリ値][14]
* [ファネル][15]
* [パイ][16]
* [SLO サマリー][17]

### 編集アクセス権の制限

デフォルトでは、すべてのユーザーがノートブックにフルアクセスできます。

きめ細かいアクセス制御を使用して、特定のノートブックを編集できる[ロール][18]を制限することができます。
1. ノートブックを表示中に、右上の歯車をクリックします。設定メニューが開きます。
1. **Permissions** を選択します。
1. **Restrict Access** をクリックします。
1. ダイアログボックスが更新され、組織のメンバーはデフォルトで **Viewer** アクセス権を持っていることが表示されます。
1. ドロップダウンを使用して、ノートブックを編集できる 1 つまたは複数のロールを選択します。
1. **Add** をクリックします。
1. ダイアログボックスが更新され、選択したロールに **Editor** 権限があることが表示されます。
1. **Save** をクリックします。

**注:** ノートブックの編集アクセス権を維持するために、保存する前に、少なくとも 1 つのロールのメンバーであることを含めることがシステムから要求されます。

アクセスが制限されたノートブックに一般的なアクセスを戻すには、次の手順に従います。
1. ノートブックを表示中に、右上の歯車をクリックします。設定メニューが開きます。
1. **Permissions** を選択します。
1. **Restore Full Access** をクリックします。
1. **保存**をクリックします。

## その他の参考資料

{{< partial name="whats-next/whats-next.html" >}}

[1]: https://app.datadoghq.com/notebook
[2]: https://app.datadoghq.com/notebook/list
[3]: https://app.datadoghq.com/notebook/template-gallery
[4]: /ja/notebooks/guide/version_history
[5]: /ja/dashboards/template_variables/
[6]: https://daringfireball.net/projects/markdown/
[7]: https://mermaid.js.org/
[8]: /ja/dashboards/widgets/timeseries/
[9]: /ja/dashboards/widgets/top_list/
[10]: /ja/dashboards/widgets/table/
[11]: /ja/dashboards/widgets/heatmap/
[12]: /ja/dashboards/widgets/distribution/
[13]: /ja/dashboards/widgets/list/
[14]: /ja/dashboards/widgets/query_value/
[15]: /ja/dashboards/widgets/funnel/
[16]: /ja/dashboards/widgets/pie_chart/
[17]: /ja/dashboards/widgets/slo/
[18]: /ja/account_management/rbac/