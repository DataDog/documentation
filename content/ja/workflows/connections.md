---
aliases:
- /ja/workflows/setup
description: ワークフロー接続
disable_toc: false
is_beta: true
kind: documentation
title: 接続
---

{{< callout url="https://forms.gle/VEjerYVQ2QJhauZ57" >}}
  Workflows は公開ベータ版です。フィードバックや質問がある場合は、<a href="/help">Datadog サポート</a>にご連絡ください。
{{< /callout >}}

## 概要

ワークフローのアクションは、外部のソフトウェアシステムと接続するため、対応するインテグレーションに対して、Datadog アカウントの認証が必要になる場合があります。ワークフローは、認証を必要とするすべてのワークフローアクションが Datadog アカウントの身元を確認できる場合にのみ、正常に実行することができます。Datadog に権限を付与する際には、セキュリティのベストプラクティスに従い、ワークフローの実行に必要な権限のみを付与するようにします。

ワークフローアクションは、2 つの方法で認証することができます。
- インテグレーションタイルで構成された資格情報および権限
- 接続の資格情報

## インテグレーションタイルの資格情報

以下の Datadog インテグレーションタイルで設定した資格情報やアカウント認証は、ワークフローの対応するアクションに自動的に伝搬されます。
- Jira
- PagerDuty
- Slack
- GitHub

[Datadog インテグレーション][6]の説明に従って、インテグレーションタイルを構成します。

設定する必要があるインテグレーションが上記に記載されていない場合は、接続資格情報を設定します。

## 接続の資格情報

ワークフロー接続は、インストールされているインテグレーションを拡張し、ワークフローステップの認証を制御できるようにします。[汎用アクション][8]、またはインテグレーションタイルが認証を提供しないアクションを認証するために、接続資格情報を使用します。認証のためにインテグレーションタイルを使用するインテグレーションのリストについては、[インテグレーションタイルの資格情報](#integration-tile-credentials)セクションを参照してください。接続資格情報は、ワークフロー製品内でのみ使用可能です。

接続は、以下のユースケース例に対応しています。
- 必要なインテグレーションが、ビルトイン接続では利用でない場合。
- カスタムアクションを認証したい場合。例えば、独自のサービスで HTTP アクションを使用する必要があります。
- 必要な権限が、AWS の書き込み権限など、インテグレーションでサポートされていない場合。
- 特定のワークフローへのユーザーのアクセスを制限するなど、きめ細かなアクセス制御を行いたい場合。

### 接続セキュリティへの配慮

接続を作成する前に、必要なタスクを実行するために必要な権限を考え、そのタスクを実行するために必要な権限のみを接続に付与します。さらに、接続は、その接続を使用する必要がある人だけに制限される必要があります。

可能であれば、異なるワークフローに対して粒度の細かい接続を使用します。例えば、AWS S3 バケットに書き込むワークフローと、AWS EC2 インスタンスを終了させるワークフローがある場合、両方のワークフローに同じ接続を使用しないでください。代わりに、それぞれが範囲を限定した IAM ロールに対応する、2 つの接続をそれぞれ作成します。

## 接続の使用

### 接続の表示

1. [ワークフローリスト][2]から、右上の **Connections** をクリックします。[接続リスト][3]が表示されます。
1. 単線をクリックすると、接続の詳細が表示されます。

### 接続の作成

接続を確立するためには、以下の情報が必要です。
- 接続先 (製品名、URL など)
- 認証方法 (API キー、ユーザー名/パスワード、oauth など)

接続を作成するには
1. [接続リスト][3]に移動します。
1. 右上の **New Connection** ボタンをクリックします。**New Connection** ダイアログボックスが表示されます。
1. アイコンをクリックして、インテグレーションスキーマを選択します。
1. 該当するフィールドを入力します。**Create** をクリックします。

または、ワークフローページから接続を追加します。
1. [Workflows 一覧][9]に移動します。
1. 資格情報を追加する必要があるアクションを含むワークフローを選択します。ワークフロービルダーが表示されます。
1. ワークフローの視覚化で、資格情報を追加する必要のあるアクションをクリックします。右側のパネルには、アクションの詳細が表示されます。
1. **Configure** タブの下にある **Connection** のドロップダウンを探し、**+** のアイコンをクリックします。
1. **New Connection** ダイアログボックスで、接続に名前を付け、必要な認証の詳細を入力します。
1. **保存**をクリックします。

以下の例では、AWS 接続の **New Connection** ダイアログボックスを表示しています。各接続では、異なる認証情報が必要です。AWS 接続では、有効な AWS IAM Account ID と Role Name が必要です。

{{< img src="workflows/new-connection.png" alt="AWS 接続の New Connection ダイアログボックス" >}}

### 接続の編集

1. [接続リスト][3]に移動します。
1. 編集したい接続にカーソルを合わせます。右側に、**Edit**、**Permissions**、**Delete** のアイコンが表示されます。
1. 鉛筆 (**Edit**) アイコンをクリックします。ダイアログボックスが表示されます。
1. 変更したいフィールドを更新します。
1. **保存**をクリックします。

### 接続の削除

1. [接続リスト][3]に移動します。
1. 削除したい接続にカーソルを合わせます。右側に、**Edit**、**Permissions**、**Delete** のアイコンが表示されます。
1. ゴミ箱 (**Delete**) のアイコンをクリックします。"Are you sure?” のテキストが表示されます。
1. **Delete** を選択します。

### 接続の利用を制限する

接続の利用を制限する方法については、［アクセス・認証］[4]を参照してください。

## HTTP 接続

任意のサービスに接続するには、HTTP 接続タイプを使用し、2 つの認証オプションから選択します。
- トークンベース認証
- ユーザー名とパスワードの組み合わせ

### HTTP 接続の作成

1. [接続リスト][3]に移動します。
1. **New Connection** を選択します。ダイアログボックスが表示されます。
1. **HTTP Connection** を選択します。ダイアログボックスが更新され、HTTP 接続パラメーターが表示されます。
1. **Base URL** を入力します。
1. 必要に応じて、**Add +** ボタンを使用して、ヘッダーや URL パラメーターを追加します。
1. 接続の種類を選択します。**Token Auth** または **Basic Auth** を選択します。適切なパラメーターを入力します。
1. HTTP 接続を保存するには、**Create** をクリックします。

[1]: /ja/workflows/actions_catalog/generic_actions/
[2]: https://app.datadoghq.com/workflow
[3]: https://app.datadoghq.com/workflow/connections
[4]: /ja/workflows/access/#restrict-connection-use
[6]: /ja/integrations/
[8]: /ja/workflows/actions_catalog/generic_actions/
[9]: https://app.datadoghq.com/workflow