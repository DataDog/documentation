---
assets:
  dashboards:
    k6 Performance Testing Overview: assets/dashboards/overview.json
  metrics_metadata: metadata.csv
  monitors: {}
  saved_views: {}
  service_checks: assets/service_checks.json
categories:
  - 監視
  - notification
creates_events: false
ddtype: crawler
dependencies:
  - 'https://github.com/DataDog/integrations-extras/blob/master/k6/README.md'
display_name: k6
draft: false
git_integration_title: k6
guid: 9556c5e0-5573-4620-92c6-8d448f548d72
integration_id: k6
integration_title: k6
is_public: true
kind: インテグレーション
maintainer: support@k6.io
manifest_version: 1.0.0
metric_prefix: k6.
metric_to_check: k6.http_reqs
name: k6
public_title: Datadog-k6 インテグレーション
short_description: DataDog で k6 性能試験メトリクスを分析および視覚化
support: contrib
supported_os:
  - linux
  - mac_os
  - windows
---
## 概要

[k6][1] は、パフォーマンスの問題とパフォーマンスの低下を早期に把握するのに役立つオープンソースの負荷テストツールです。

k6 インテグレーションを使用すると、k6 テストのパフォーマンスメトリクスを追跡して次のことができます。

- アプリケーションの性能と負荷試験メトリクスを関連付けます。
- 性能試験メトリクスに基づきアラートを作成します。
- k6 Datadog ダッシュボードや[メトリクスエクスプローラー][2]を使用して、k6 メトリクスを分析および視覚化します。

![k6 Datadog ダッシュボード][3]

## セットアップ

詳細な手順については、[k6 に関するドキュメント][4]を参照してください。

### インストール

1. Datadog で、Integrations > [API][5] に移動して、API キーをコピーします。


2. Datadog Agent を実行します。

    k6 メトリクスを Datadog に取り込むため、メトリクスを収集して集約し Datadog プラットフォームに転送する Datadog Agent を介して、k6 はメトリクスを送信します。

    次のコマンドを使用して、Datadog Agent サービスを Docker コンテナとして実行します。

    ```shell
    DOCKER_CONTENT_TRUST=1 \
    docker run -d \
        --name datadog \
        -v /var/run/docker.sock:/var/run/docker.sock:ro \
        -v /proc/:/host/proc/:ro \
        -v /sys/fs/cgroup/:/host/sys/fs/cgroup:ro \
        -e DD_SITE="datadoghq.com" \
        -e DD_API_KEY=<YOUR_DATADOG_API_KEY> \
        -e DD_DOGSTATSD_NON_LOCAL_TRAFFIC=1 \
        -p 8125:8125/udp \
        datadog/agent:latest
    ```

    **注**: `<Datadog API キー>` を [API][5] キーに置き換えます。アカウントが Datadog EU に登録されている場合は、`DD_SITE` を `datadoghq.eu` にします。

3. k6 試験を実行し、結果を Datadog に出力します。

    Datadog Agent サービスを実行したら、k6 試験を実行し、以下を使用してメトリクスを Agent に送信します。

    ```shell
    k6 run --out datadog script.js
    ```

4. Datadog で k6 メトリクスを視覚化する。

    試験を実行中に k6 はメトリクスを定期的に DataDog 送信します。デフォルトでは、これらのメトリクスには名前のプレフィックスとして `k6.`が含まれます。 

    [メトリクスエクスプローラー][2]、[モニター][6]、[カスタムダッシュボード][7]で、k6 メトリクスをリアルタイムで視覚化できます。

    ![k6 Datadog メトリクスエクスプローラー][8]

   さらに、Datadog が初めて `k6.http_reqs` メトリクスを検出すると、k6 インテグレーションタイルが自動的にインストールされ、デフォルトの k6 ダッシュボードが[ダッシュボードリスト][9]に追加されます。

    ![k6 Datadog ダッシュボード][3]


## 収集データ

### メトリクス
{{< get-metrics-from-git "k6" >}}


### サービスのチェック

k6 インテグレーションには、サービスのチェック機能は含まれません。

### イベント

k6 インテグレーションには、イベントは含まれません。

## トラブルシューティング

ご不明な点は、[k6 Datadog ドキュメント][4]をご覧いただくか、[k6 サポート][11]までお問い合わせください。

[1]: https://k6.io/open-source
[2]: https://docs.datadoghq.com/ja/metrics/explorer/
[3]: https://raw.githubusercontent.com/DataDog/integrations-extras/master/k6/images/k6-default-dashboard.png
[4]: https://k6.io/docs/results-visualization/datadog
[5]: https://app.datadoghq.com/account/settings#api
[6]: https://docs.datadoghq.com/ja/monitors/
[7]: https://docs.datadoghq.com/ja/graphing/dashboards/
[8]: https://raw.githubusercontent.com/DataDog/integrations-extras/master/k6/images/metrics-explorer.png
[9]: https://docs.datadoghq.com/ja/dashboards/#dashboard-list
[10]: https://github.com/DataDog/integrations-extras/blob/master/k6/metadata.csv
[11]: https://community.k6.io/