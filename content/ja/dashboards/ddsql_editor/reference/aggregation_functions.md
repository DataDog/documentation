---
title: DDSQL 集計関数
---

{{< callout url="https://datadoghq.com/private-beta/ddsql-editor">}}
DDSQL は非公開ベータ版です。
{{< /callout >}}

## 集計関数

集計関数は 1 組の入力値から単一の結果を算出し、通常、`GROUP BY` ステートメントと共に使用されます。

### avg
| 名前 | 引数の型 | 戻り値の型 | 説明 |
|------|----------------|-------------|-------------|
| avg(expr *e*) | 数値 | 数値 | null でないすべての入力値の平均 (算術平均) を計算します。 |

### 最大
| 名前 | 引数の型 | 戻り値の型 | 説明 |
|------|----------------|-------------|-------------|
| max(expr *e*) | 変数 | 変数 | null 以外の入力値の最大値を計算します。入力値の型は比較可能でなければなりません。 |

### 最小
| 名前 | 引数の型 | 戻り値の型 | 説明 |
|------|----------------|-------------|-------------|
| min(expr *e*) | 変数 | 変数 | null 以外の入力値の最小値を計算します。入力値の型は比較可能でなければなりません。 |

### 合計
| 名前 | 引数の型 | 戻り値の型 | 説明 |
|------|----------------|-------------|-------------|
| sum(expr *e*) | 数値 | 数値 | null でない入力値の合計を計算します。 |

### count
| 名前 | 引数の型 | 戻り値の型 | 説明 |
|------|----------------|-------------|-------------|
| count(expr *e*) | 数値 | 整数 | 入力値が null でない入力行の数を計算します。 |
| count(distinct expr *e1*, *e2* ...) | | 整数 | null でない入力値のうち、異なる値の数を計算します。 |
| count(*) | | 整数 | 入力行の数を計算します。 |

### string_agg
| 名前 | 引数の型 | 戻り値の型 | 説明 |
|------|----------------|-------------|-------------|
| string_agg(expr *e*, delimiter *e*) | 文字列、文字列 | 文字列 | 区切り文字で区切られた入力値を連結します。 |

### array_agg
| 名前 | 引数の型 | 戻り値の型 | 説明 |
|------|----------------|-------------|-------------|
| string_agg(expr *e*) | 変数 | 配列<variable> | 入力値を配列として連結します。 |