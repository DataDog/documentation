---
title: ダウンタイム
kind: documentation
description: ダウンタイムをスケジューリングすることで、Datadog モニターが一定期間アラートを出さないようにします。
further_reading:
  - link: monitors/monitor_types
    tag: Documentation
    text: モニターの作成方法
  - link: monitors/notifications
    tag: Documentation
    text: モニター通知の設定
  - link: monitors/manage_monitor
    tag: Documentation
    text: モニターの管理
---
ダウンタイムをスケジューリングすると、システムシャットダウンやオフラインメンテナンス、アップグレードを、モニターをトリガーせずに行うことができます。

## モニターをミュートにすると (または、ダウンタイムスケジュールがあると) どうなるか

アラートを出さなくてよい時間にアラートが出ないように、ダウンタイムをスケジューリングしたり、Datadog モニターをミュートしたりすることができます。

モニターは、`ALERT`、`WARNING`（有効な場合）、`RESOLVED`、`NO DATA`（有効な場合）のいずれかの状態に変わる際にイベントをトリガーします。モニターがダウンタイムまたはミュートによってサイレンスになっている時は、`RESOLVED` から別の状態に変わっても、イベントや通知は**トリガーされません**。

**注**: UI を使用してモニターをミュートまたはミュート解除しても、そのモニターに関してスケジュールされたダウンタイムは削除されません。削除するには、ダウンタイムの管理機能を使用するか、[API][1] を使用する必要があります。

{{< img src="monitors/downtimes/downtime_on_alert.png" alt="ダウンタイム時のアラート"  style="width:80%;">}}

モニターの状態がダウンタイム時に（たとえば `OK` から `ALERT`、`WARNING`、`NO DATA` に）変わり、スケジュールされたダウンタイム期間が終わった後もその状態が続く場合、モニターは通知を**トリガーしません**。ただし、そのスコープのデータが戻った時、あるいはモニターが `OK` の状態を返した時は、リカバリイベントをトリガーします。

この動作には、*Autoresolve* 機能を使用している場合に、`NO DATA` 状態の不要なアラートが大量に送信されるのを防ぐという目的があります。サイレンス期間の終了時に、モニターが `NO DATA` 状態のイベントをトリガーすることをお望みであれば、[Datadog サポートチームに問い合わせて][2]、この機能をお客様のアカウントで有効にするようリクエストしてください。これが機能するのは、モニターが `NO DATA` 状態でダウンタイム期間を終了する場合だけです。

モニターが**ダウンタイムの前に**アラートをトリガーし、その**ダウンタイム中に**リカバリした場合は、リカバリイベントがダウンタイム中に送信されます（そのダウンタイム中で最初のリカバリである場合に限ります）。

### モニターレポート

[週間モニターレポート][3]は、すべてのアラート状態を、ダウンタイム時のものであっても報告します。

## ダウンタイムの管理

メインメニューにある **Monitors** にマウスを合わせて [Manage Downtime][4] ページに移動し、**Manage Downtime** を選択します。

{{< img src="monitors/downtimes/downtime-nav.png" alt="ダウンタイムのナビ"  >}}

Manage Downtime ページには、アクティブなダウンタイムとスケジューリングされたダウンタイムがリストされます。ダウンタイムの 1 つを選択すると、影響を受けるホストとモニターの詳細が表示されます。

{{< img src="monitors/downtimes/downtime-manage.png" alt="ダウンタイム管理"  style="width:80%;">}}

## ダウンタイムスケジュール

ダウンタイムをスケジューリングするには、右上の "Schedule Downtime" ボタンをクリックします。

1. サイレントにする対象を選択します。
   {{< img src="monitors/downtimes/choose-what-to-silence.png" alt="ダウンタイムサイレンス"  style="width:80%;">}}
   **モニター名でサイレンスを設定する。**
   少なくとも 1 つのモニターを選択する必要があります。選択フィールドを空白にすると、すべてのモニターがデフォルトでサイレンスになります。スコープを選択すると、ダウンタイムを特定のホスト、デバイス、任意のタグに限定して設定することもできます。スコープについて詳しくは、JSON を使用したグラフ作成入門の[スコープのセクション][5]を参照してください。
   **モニタータグでサイレンスを設定する。**
   1 つ以上の[モニタータグ][6]を選択して、ダウンタイムをスケジューリングします。ただし、少なくとも 1 つは選択する必要があります。タグの数は最大 32 まで、それぞれのタグの文字数は最大で 256 までという制限があります。**選択したすべてのタグ**を持つモニターだけがサイレンスになります。スコープを選択すれば、対象をさらに制限することもできます。<br/><br/>
   どちらの方法で設定しても、サイレンスにするモニターをスコープによって制限する場合は、*Preview affected monitors* をクリックして、サイレンスの対象となるモニターを表示できます。スコープに含まれるモニターであれば、ダウンタイムをスケジュールした後に作成または編集されたモニターもサイレンスになります。複数のアラートを送信する場合は、スコープに含まれるグループだけがサイレンスになります。たとえば、`host:X` がダウンタイムのスコープに含まれており、`host:X` と `host:Y` の両方に対してアラートがトリガーされる場合、Datadog は `host:Y` に対してモニターの通知を生成しますが、`host:X` に対しては生成しません。

2. スケジュールを設定します。
  {{< img src="monitors/downtimes/downtime-schedule.png" alt="ダウンタイムスケジュール"  style="width:80%;">}}
  開始日時を設定するか、フィールドを空にして即座にダウンタイムを開始できます。[定期的なダウンタイムスケジュールに合わせて繰り返しスケジュール](#recurring-downtimes)を設定することもできます。

3. チームに通知するオプションのメッセージを追加します。
  {{< img src="monitors/downtimes/downtime-notify.png" alt="ダウンタイム通知"  style="width:80%;">}}
  このダウンタイムについてチームに通知するメッセージをフィールドに入力します。Datadog の @ 通知のほか、標準の[マークダウン形式][7]の構文で入力することもできます。*Notify your team* フィールドでは、チームのメンバーを指定したり、メッセージをサービス[インテグレーション][8]に送信したりできます。

**注**: ダウンタイムはモニターを作成する前、またはグループをミュートにする前に作成してください。

## 定期ダウンタイム

定期ダウンタイムを使用すると、一定の間隔やパターンで開始と停止を繰り返すようにダウンタイムを作成できます。

このようなダウンタイムの使用例として、定期的なメンテナンススケジュールウィンドウがあり、その間の変更によってモニターに余計な情報が増えることを避けたい場合があります。

定期ダウンタイムが終了すると、ダウンタイムをキャンセルし、新しいダウンタイムを同じ制限で（開始時間と終了時間を更新して）作成するというパターンが繰り返されます。

**注**: このように新しく作成されたダウンタイムはすべて、元の作成者に関連付けられます。

## ダウンタイムの検索

ダウンタイム履歴は、Monitor Status ページにグループ遷移履歴のオーバーレイとして表示されます。または、イベントストリーム内で、`tags:audit,downtime` を検索するか、`tags:audit,downtime_id:1` を使用して特定のダウンタイムを ID で検索できます。

## その他の参考資料

{{< partial name="whats-next/whats-next.html" >}}

[1]: /ja/api/?lang=python#cancel-monitor-downtime
[2]: /ja/help
[3]: /ja/account_management/#preferences
[4]: https://app.datadoghq.com/monitors#/downtime
[5]: /ja/dashboards/graphing_json/#scope
[6]: /ja/monitors/manage_monitor/#monitor-tags
[7]: http://daringfireball.net/projects/markdown/syntax
[8]: https://app.datadoghq.com/account/settings#integrations