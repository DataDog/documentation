---
title: ダウンタイム
kind: documentation
description: ダウンタイムをスケジューリングすることで、Datadog モニターが一定期間アラートを出さないようにします。
further_reading:
  - link: /monitors/monitor_types/
    tag: Documentation
    text: モニターの作成
  - link: /monitors/notifications/
    tag: Documentation
    text: モニター通知の設定
  - link: /monitors/manage_monitor/
    tag: Documentation
    text: モニターの管理
---
ダウンタイムをスケジューリングすると、システムシャットダウンやオフラインメンテナンス、アップグレードを、モニターをトリガーせずに行うことができます。

## スケジュール

Datadog で[モニターのダウンタイム][1]のスケジューリングを行うには、メインナビゲーションで _Monitors –> Manage Downtime_ の順に移動します。その後、画面右上の **Schedule Downtime** ボタンをクリックしてください。

### サイレントにする対象を選択

{{< tabs >}}
{{% tab "モニター名で指定" %}}

検索するか、ドロップダウンを利用してサイレントにしたいモニターを選択します。フィールドを空欄にすると、すべてのモニターがデフォルトでサイレント状態に設定されます。スコープを選択して、特定のホストやデバイス、任意のタグに限定したダウンタイムを設定することもできます。**選択されたすべてのスコープ**に紐付くモニターのみがサイレントに設定されます。

{{% /tab %}}
{{% tab "モニタータグで指定" %}}

一つないし複数の[モニタータグ][1]に基づくダウンタイムのスケジューリングが可能です。少なくとも 1 つのタグを選択する必要があります。タグは最大 32 個まで選択でき、各タグの長さは最大 256 文字までとなります。**選択されたすべてのタグ**に紐付くモニターのみがサイレントに設定されます。スコープを選択すれば、対象をさらに制限することもできます。

[1]: /ja/monitors/manage_monitor/#monitor-tags
{{% /tab %}}
{{< /tabs >}}

モニターのサイレント設定にスコープを追加する場合は、**Preview affected monitors** をクリックして該当するモニターを表示します。ダウンタイムのスケジューリング後に作成または編集されたモニターは、スコープに合致した場合に自動でダウンタイムに組み込まれます。

**注**: 1 台のモニターから複数のアラートを送信している場合は、スコープに含まれるグループだけがサイレントに設定されます。たとえば、`host:X` がダウンタイムのスコープに含まれており、`host:X` と `host:Y` の両方に対してアラートがトリガーされる場合、Datadog は `host:Y` に対してのみモニター通知を生成します。`host:X` に対する通知は行われません。

### スケジュール

{{< tabs >}}
{{% tab " 単発" %}}

開始日時とタイムゾーンを指定して 1 回のみのダウンタイムを設定します。オプションで終了日時を設定することもできます。

{{% /tab %}}
{{% tab "定期" %}}

定期的なメンテナンスなどには繰り返しのダウンタイム設定が便利です。

開始日時、タイムゾーン、繰り返し条件、期間を指定して定期のダウンタイムを設定します。オプションで終了日や繰り返し回数を設定することもできます。

毎回の定期ダウンタイムが終了すると、そのダウンタイムをキャンセルし、同じ条件（開始時間と終了時間が異なる）の新しいダウンタイムを作成するというパターンが繰り返されます。**注**: このように新しく作成されたダウンタイムはすべて、元の作成者に関連付けられます。

{{% /tab %}}
{{< /tabs >}}

### メッセージの追加

このダウンタイムについてチームに通知するメッセージをフィールドに入力します。標準の[マークダウン形式][2]および Datadog の `@-notification` 構文での入力が可能です。

### チームへの通知

対象のチームメンバーを指定して通知するか、サービス[インテグレーション][3]にメッセージを送信します。

## 管理

Manage Downtime ページには、アクティブなダウンタイムとスケジューリングされたダウンタイムの一覧が表示されます。任意の行を選択して詳細の確認、編集、削除を行うことができます。ダウンタイムを検索する場合は _Filter downtimes_ テキストボックスを使用します。

### 履歴

ダウンタイム履歴は、[Monitor Status][4] ページにグループ遷移履歴のオーバーレイとして表示されます。または、[イベントストリーム][5]内で `tags:audit,downtime` を検索するか、`tags:audit,downtime_id:<ダウンタイム_ID>` を使用して特定のダウンタイムを ID で検索できます。

### ミュート設定

モニターは、`ALERT`、`WARNING`、`RESOLVED`、`NO DATA` 間でステータスが切り替わる際にイベントをトリガーします。モニターがミュートまたはダウンタイムによってサイレント状態になっている時は、`RESOLVED` から別の状態に変わっても、イベントや通知は**トリガーされません**。

{{< img src="monitors/downtimes/downtime_on_alert.png" alt="ダウンタイム時のアラート"  style="width:80%;">}}

**注**: UI を使用してモニターをミュートまたはミュート解除しても、そのモニターに関してスケジュールされたダウンタイムは削除されません。ダウンタイムを編集または削除するには、[Manage Downtimes][1] ページから設定を変更するか、[API][6] を使用する必要があります。

ダウンタイムの期限が切れたときにモニターのステータスがアラート対象（`ALERT`、`WARNING`、`NO DATA`）の場合、モニターは強制リカバリされ、アラートの条件が満たさされればすぐに再トリガーされます。これは、ダウンタイム中にモニターのステータスが（たとえば `OK` から `ALERT`、`WARNING`、または `NO DATA` に）変わったモニターや、ダウンタイムの開始時にすでにアラート対象のステータスであったモニターも同様です。

**例 1:** モニターがダウンタイムの開始*前に*アラートの状態で、ダウンタイム中も*継続*した場合:
1. ダウンタイム中、このアラートの通知は停止されます。
2. モニターはアラートの状態です（依然として条件が満たされているため）。
3. ダウンタイムが終了します。
4. モニターが強制リカバリされます。
5. アラート条件が満たされるため、通知が送信されます。

**例 2:** モニターがダウンタイムの開始*前に*アラートの状態で、ダウンタイム*中に*リカバリした場合:
1. アラート状態から `OK` に移行します。
2. ダウンタイム中にリカバリ通知が送信されます（ダウンタイム中最初のリカバリのみ）。

### モニターレポート

[週間モニターレポート][7]には、ダウンタイム時を含むすべてのアラートのステータスが含まれます。

## その他の参考資料

{{< partial name="whats-next/whats-next.html" >}}

[1]: https://app.datadoghq.com/monitors#/downtime
[2]: http://daringfireball.net/projects/markdown/syntax
[3]: /ja/integrations/#cat-notification
[4]: /ja/monitors/monitor_status/
[5]: /ja/events/#event-stream
[6]: /ja/api/v1/downtimes/#cancel-a-downtime
[7]: /ja/account_management/#preferences