---
further_reading:
- link: /tracing/service_catalog/
  tag: ドキュメント
  text: Datadog サービスカタログ
is_beta: true
kind: ドキュメント
title: エンドポイントの確認とカタログ登録
---

{{< img src="tracing/api_catalog/api-catalog-explorer.png" alt="API Catalog Explorer ビュー" style="width:100%;" >}}

## エンドポイントの確認

[API Catalog Explorer]][1] ページには、Datadog 組織内のすべての環境におけるすべてのエンドポイントが表示されます。各エンドポイントに表示されるパフォーマンスデータは、選択した環境と時間枠にスコープされます。情報を閲覧し、異なるプロパティやメトリクスをクエリして質問することでより正確な結果を得ることができるほか、ファセットやタグを使ってフィルターをかけることもできます。

表中のヘッダーをクリックすると、その列で並べ替えを行うことができます。例えば、レイテンシーの 99 パーセンタイルが最も高いエンドポイントを見るには、**P99** をクリックします。**P99** の列は、デフォルトでは表示されない可能性があるので注意してください。

この表は、API の **TEAM** 所有権も示しています。この情報は、[サービスカタログ][2]の関連するサービス定義から継承されます。サービス所有者は、そのサービスに接続されているすべてのエンドポイントを所有します。

リストを絞り込んだり、関心のあるエンドポイントを検索したりするには、**Search** フィールドにクエリを入力します。サービス、パス、またはその他のプライマリタグで検索します。あるいは、ファセットの組み合わせを選択し、エンドポイントが属する**サービス**または**チーム**で絞り込みます。

表中の**データをスコープする**には、**Scope Metrics to** で環境、別のプライマリタグ (`datacenter` など)、および時間枠を指定します。

{{< img src="tracing/api_catalog/api-catalog-scope2.mp4" alt="スコープの設定を変更することで、API カタログに表示されるメトリクスがどのように変化するかを示す" video="true" >}}


<!-- image TKTK -->
### 機能やビジネスロジックを表現するための API の分類

エンドポイントの詳細ページでのタグ付けに加えて、複数のエンドポイントに一度にタグを追加することができます。そのためには、複数のエンドポイントのチェックボックスを選択し、**Edit tags** をクリックします。ビジネスロジック、重要性、またはその他の有用なグループ化情報を説明するには、これらのラベルを使用します。これらのラベルを適用すると、独自の基準で定義されたエンドポイントのグループをすばやく表示したり、アクセスしたりすることができます。これは、共通の特性を持つエンドポイントグループのモニターやダッシュボードなどのアセットを作成するのに役立ちます。

例えば、パフォーマンスの問題に特に敏感なエンドポイントに対してレイテンシーアラートを作成したい場合、それらのエンドポイントに `Latency sensitive` のようなタグを付けます。

あるいは、機密データを扱うエンドポイントに `PII` のようなタグを付けて、そのタグを持つエンドポイントが  `401 Unauthorized`  応答をしたときにアラートを出すようにします。その他の便利なタグの例:

- `critical to feature X`
- `newly added - V2`
- `contains password`
- `contains PII`
- ビジネスロジック (例: `payments`)
- 特定の顧客グループ (`subscribers`)

タグを追加すると、カタログの横にあるファセットのリストに表示されます。ファセットをクリックすると、リストがフィルターされ、タグが Search query フィールドに追加されます。


## 所有権の確立 

Explorer ページおよび各エンドポイント詳細ページの **Team** 列には、エンドポイントが関連付けられているサービスを所有するチームの名前が表示されます。所有権が割り当てられていない場合は、**Register Endpoints** ドロップダウンをクリックして、所有者を選択して割り当てを行います。

各エンドポイントをどのチームが所有しているかを確認でき、チーム名をクリックすると詳細が表示されます。例えば、特定の API エンドポイントに関連するインシデントを解決するために、チームとそのダッシュボード、オンコールエンジニア、連絡方法 (メール、Slack、PagerDuty) の詳細を確認することができます。

所有権情報 (チーム、オンコール情報、コミュニケーション詳細) は、サービスカタログから供給されるサービス定義から導き出されます。サービス所有者は、サービスに接続されているすべてのエンドポイントを所有します。

{{< img src="tracing/api_catalog/api-catalog-endpoint-details.png" alt="エンドポイント詳細ページのチーム詳細パネル。エンドポイントを所有するチームの名前と通信情報が表示されます" style="width:100%;" >}}

<!--## Assess monitoring gaps TKTK -->

## 参考資料

{{< partial name="whats-next/whats-next.html" >}}

[1]: https://app.datadoghq.com/apis/catalog
[2]: /ja/tracing/service_catalog/