---
title: Historical Jobs
further_reading:
- link: "https://www.datadoghq.com/blog/cloud-siem-historical-jobs/"
  tag: "Blog"
  text: "Backtest detection rules with Datadog Cloud SIEM Historical Jobs"
---

Historical Jobs allows you to backtest detections by running them against historical logs stored in Datadog Cloud SIEM.

Unlike a real-time rule, a Historical Job does not run continuously. Historical Jobs are one-time executable queries that analyze a specified period of historical data.

The results of Historical Jobs are lightweight versions of signals, providing essential insights into potential threats or anomalies identified within the historical logs.

If immediate action is needed after reviewing the results generated by the Historical Job, you can confidently promote a subset of those results to signals. When converting a result to a signal, you can manually set the signal severity and the notification target, as well as the signal playbook.

## Run a Historical Job

### Create the job

1. Navigate to the [Cloud SIEM Detection Rules][1] page.
1. Click the three-dot menu next to the rule you want to test, and choose **Run as Historical Job**.
1. Complete the form by choosing the log index, time range, rule case, and notification recipient(s).
    {{< img src="security/security_monitoring/detection_rules/historical-job-form.png" alt="The Historical Job creation form" style="width:90%;" >}}
1. Click **Run Historical Job**.
1.  Alternatively, you can define the job from scratch in the [Rule Editor][2].

### Review the job results

1. Navigate to the [Historial Jobs list][3].
1. Click on the Historical Job you created to open a panel that includes the detected results, matched logs, and more.
    {{< img src="security/security_monitoring/detection_rules/historical-job-result.png" alt="The results panel for a Historical Job" style="width:90%;" >}}

### Convert a result to a signal

1. In the **Results** section of a Historical Job panel, click one of the results in the list to open a details panel for that result.
1. Click **Convert to Signal**.
1. Set the signal severity, notification recipients, and description message.
    {{< img src="security/security_monitoring/detection_rules/convert-historical-job-result-to-signal.png" alt="The results panel for a Historical Job" style="width:90%;" >}}
1. Click **Convert to Signals**.

## Calculated fields queries

{{< img src="security/security_monitoring/detection_rules/calculated-fields-detection-rule.png" alt="The calculated fields option in the detection rule editor" style="width:90%;" >}}

You can create [Calculated Fields][4] directly within a Historical Job query to define a computed field from existing data sources.

Use calculated fields to transform and enrich your query with formulas to:

- Manipulate text
- Perform arithmetic
- Evaluate conditional logic

A calculated field can be used like any log attribute for job analysis, searching job results, and defining other calculated fields.

1. Navigate to the [Historial Jobs list][3].
1. Click **New Job**.
1. Find the [Define Search Queries][6] section.
1. Click **Add**.
1. Select **Calculated Fields** from the options.

{{< img src="security/security_monitoring/detection_rules/create-calculated-field.png" alt="The create a calculated fields modal with fields to define the name and formula" style="width:90%;" >}}

See [Calculated Fields Expression Language][5] for the available functions and operators.

## Further Reading

{{< partial name="whats-next/whats-next.html" >}}

[1]: https://app.datadoghq.com/security/rules
[2]: https://app.datadoghq.com/security/configuration/siem/rules/new-job?product=siem
[3]: https://app.datadoghq.com/security/detections/historical-jobs
[4]: /logs/explorer/calculated_fields/
[5]: /logs/explorer/calculated_fields/expression_language/
[6]: https://app.datadoghq.com/security/configuration/siem/rules/new-job?product=siem#rule-editor-define-queries
