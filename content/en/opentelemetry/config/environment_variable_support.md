---
title: OpenTelemetry Environment Variables Interoperability
aliases:
  - /opentelemetry/interoperability/environment_variable_support
further_reading:
    - link: '/tracing/trace_collection/library_config/dotnet-core'
      tag: 'Documentation'
      text: '.NET Core SDK Configuration'
    - link: '/tracing/trace_collection/library_config/dotnet-framework'
      tag: 'Documentation'
      text: '.NET Framework SDK Configuration'
    - link: '/tracing/trace_collection/library_config/go'
      tag: 'Documentation'
      text: 'Go SDK Configuration'
    - link: '/tracing/trace_collection/library_config/java'
      tag: 'Documentation'
      text: 'Java SDK Configuration'
    - link: '/tracing/trace_collection/library_config/nodejs'
      tag: 'Documentation'
      text: 'Node.js SDK Configuration'
    - link: '/tracing/trace_collection/library_config/php'
      tag: 'Documentation'
      text: 'PHP SDK Configuration'
    - link: '/tracing/trace_collection/library_config/python'
      tag: 'Documentation'
      text: 'Python SDK Configuration'
    - link: '/tracing/trace_collection/library_config/ruby'
      tag: 'Documentation'
      text: 'Ruby SDK Configuration'
---

Datadog SDKs implement the OpenTelemetry APIs for traces, metrics, and logs. This allows you to use standard OpenTelemetry environment variables to configure your application while receiving additional Datadog telemetry with minimal changes to your existing configuration.

This page describes the environment variables Datadog supports for OpenTelemetry interoperability.

The precedence rules on this page describe how *Datadog SDKs* resolve configuration into OpenTelemetry resource attributes (for example, `service.name`, `deployment.environment.name`, `service.version`).

<div class="alert alert-danger">
  To avoid duplicate values appearing in Datadog for the same tag key, don't set both Datadog (<code>DD_*</code>) and OpenTelemetry (<code>OTEL_*</code>) environment variables for the same concept. Choose one convention.
  <br>
  See the relevant <a href="/tracing/trace_collection/library_config/">SDK Configuration page</a> for default values and more information.
</div>

## Network requirements

{{% otel-network-requirements %}}

**Note**: Even when `DD_METRICS_OTEL_ENABLED=true`, standard Runtime Metrics are still emitted through DogStatsD.

## Datadog SDK configuration
These environment variables enable the Datadog SDK to ingest OpenTelemetry Metrics and Logs API data. For guides on how to instrument your application, see the [language-specific instrumentation documentation][14].

`DD_TRACE_OTEL_ENABLED`
: **Description**: Enables the Datadog SDK's OpenTelemetry interoperability for traces. <br>
**Default**: `false`<br>
**Notes**: The default is `true` in the Java SDK.

`DD_METRICS_OTEL_ENABLED`
: **Description**: Enables the automatic instrumentation components of the Datadog SDK to collect and emit metrics generated by the OTel Metrics API. <br>
**Default**: `false`

`DD_LOGS_OTEL_ENABLED`
: **Description**: Enables the Datadog SDK to collect and export logs in the OTLP format. <br>
**Notes**: For most languages, this enables support for the OTel Logs API. For .NET, this enables interception of built-in loggers. <br>
**Default**: `false`

## General SDK configuration
Datadog SDKs support the following general OpenTelemetry SDK options. For more information, see the related [OpenTelemetry documentation][9].

`OTEL_SERVICE_NAME`
: **Datadog convention**: `DD_SERVICE`<br>
Sets the `service.name` resource attribute<br>
**Notes**: When determining the final `service.name` resource attribute, the SDK uses this variable as an input to determine the final `service.name`. See the `service.name` notes under `OTEL_RESOURCE_ATTRIBUTES` for the complete precedence order.<br>

`OTEL_LOG_LEVEL`
: **Datadog convention**: `DD_LOG_LEVEL`<br>
Log level used by the SDK logger<br>
**Notes**: A log level of debug also maps to `DD_TRACE_DEBUG=true`<br>
In the Node.js & PHP SDKs this maps to `DD_TRACE_LOG_LEVEL` <br>
In the Go SDK only mapped values between `OTEL_LOG_LEVEL` & `DD_TRACE_DEBUG` are supported:<br>
  - `info`|`false`
  - `debug`|`true`<br>
**Not Supported In**: Python, .NET, Ruby, and Go SDKs<br>

`OTEL_PROPAGATORS`
: **Datadog convention**: `DD_TRACE_PROPAGATION_STYLE`<br>
Propagators to be used as a comma-separated list<br>
**Notes**: The only supported values for most Datadog SDKs are `tracecontext`, `b3`, `b3multi`, `none`, `datadog`. `xray` is also supported for the Java SDK<br>
Values must be deduplicated to register a `Propagator` only once<br>

`OTEL_TRACES_SAMPLER & OTEL_TRACES_SAMPLER_ARG`
: **Datadog convention**: `DD_TRACE_SAMPLE_RATE`<br>
`OTEL_TRACES_SAMPLER`: Sampler to be used for traces & `OTEL_TRACES_SAMPLER_ARG`: String value to be used as the sampler argument<br>
**Notes**: The specified value is only used if `OTEL_TRACES_SAMPLER` is set. Each Sampler type defines its own expected input, if any. Invalid or unrecognized input MUST be logged and MUST be otherwise ignored. In such cases, the implementation MUST behave as if `OTEL_TRACES_SAMPLER_ARG` is not set<br>
Mapped values between `OTEL_TRACES_SAMPLER` & `DD_TRACE_SAMPLE_RATE`:<br>
  - `parentbased_always_on`|`1.0`
  - `parentbased_always_off`|`0.0`
  - `parentbased_traceidratio`|`${OTEL_TRACES_SAMPLER_ARG}`
  - `always_on`|`1.0`
  - `always_off`|`0.0`
  - `traceidratio`|`${OTEL_TRACES_SAMPLER_ARG}`

`OTEL_TRACES_EXPORTER`
: **Datadog convention**: `DD_TRACE_ENABLED=false` <br>
Trace exporter to be used<br>
**Notes**: Only a value of `none` is accepted<br>

`OTEL_METRICS_EXPORTER`
: **Description**: Specifies the metrics exporter to be used. <br>
**Notes**: The only accepted values are `otlp` and `none`. A value of `none` disables the emission of OTel metrics, as well as APM runtime metrics (equivalent to `DD_RUNTIME_METRICS_ENABLED=false`) <br>
**Default**: `otlp`

`OTEL_RESOURCE_ATTRIBUTES`
: **Datadog convention**: `DD_TAGS` <br>
**Description**: Key-value pairs to be used as OpenTelemetry resource attributes. <br>
**Notes**: The SDK resolves overlapping settings using Datadog (`DD_*`) configuration first.
    - `service.name` (maps to `DD_SERVICE`): The SDK resolves the value with the following precedence: <br>
        1. Value of `DD_SERVICE` <br>
        2. Value of `service` key in `DD_TAGS` <br>
        3. Value of `OTEL_SERVICE_NAME` <br>
        4. Value of `service.name` key in `OTEL_RESOURCE_ATTRIBUTES`
    - `deployment.environment.name` (maps to `DD_ENV`): The SDK resolves the value with the following precedence: <br>
        1. Value of `DD_ENV` <br>
        2. Value of `env` key in `DD_TAGS` <br>
        3. Value of `deployment.environment.name` key in `OTEL_RESOURCE_ATTRIBUTES` <br>
        4. Value of `deployment.environment` in `OTEL_RESOURCE_ATTRIBUTES`
    - `service.version` (maps to `DD_VERSION`): The SDK resolves the value with the following precedence: <br>
        1. Value of `DD_VERSION` <br>
        2. Value of `version` key in `DD_TAGS` <br>
        3. Value of `service.version` key in `OTEL_RESOURCE_ATTRIBUTES`
    - **Additional Attributes**: May be added through the `DD_TAGS` configuration, or `OTEL_RESOURCE_ATTRIBUTES` if `DD_TAGS` is not set.

  <div class="alert alert-danger">
    Although the SDK resolves these settings internally for emitted telemetry, the Datadog Agent collects tags from all configured sources without overriding. Configuring service/environment/version using multiple inputs (for example, both <code>DD_ENV</code> and <code>OTEL_RESOURCE_ATTRIBUTES</code>) can result in multiple values appearing in Datadog (for example, <code>env:prod</code> and <code>env:dev</code>).
    To avoid duplicates, configure each concept using only one convention.
  </div>

`OTEL_SDK_DISABLED`
: **Description**: Disables the Datadog SDK's OpenTelemetry interoperability for all signals. <br>
**Notes**: When set to `true`, this effectively sets `DD_TRACE_OTEL_ENABLED=false`, `DD_LOGS_OTEL_ENABLED=false`, and `DD_METRICS_OTEL_ENABLED=false`.<br>
**Ruby & Go SDKs**: The OpenTelemetry SDK activates automatically upon import and configuration, so this setting is not applicable.

## OTLP Exporter configuration
Datadog SDKs support the following [OpenTelemetry OTLP Exporter][13] options.

Signal-specific variables (like `OTEL_EXPORTER_OTLP_METRICS_PROTOCOL`) always take precedence over their general counterparts (like `OTEL_EXPORTER_OTLP_PROTOCOL`).

### General OTLP configuration

`OTEL_EXPORTER_OTLP_PROTOCOL`
: **Description**: Specifies the transport protocol to use for all signals unless overridden. <br>
**Accepted values**: `grpc`, `http/protobuf`, `http/json`. <br>
**Default**: SDK-dependent. The Datadog SDK aims to match the default protocol of the corresponding official OpenTelemetry SDK for that language.

`OTEL_EXPORTER_OTLP_ENDPOINT`
: **Description**: Specifies the base URL for sending OTLP data for all signals unless overridden. <br>
**Default (gRPC)**: `http://localhost:4317`. <br>
**Default (HTTP)**: `http://localhost:4318`.

`OTEL_EXPORTER_OTLP_HEADERS`
: **Description**: Specifies a comma-separated list of key-value pairs to be used as headers on all outgoing OTLP requests (for example, `api-key=key,other-config=value`).

`OTEL_EXPORTER_OTLP_TIMEOUT`
: **Description**: Specifies the timeout (in milliseconds) for all outgoing OTLP requests unless overridden. <br>
**Default**: `10000` (10s).

### Metrics-specific OTLP configuration

For more details on the official specification for these variables, see the [OpenTelemetry OTLP Metrics Exporter documentation][15].

`OTEL_EXPORTER_OTLP_METRICS_PROTOCOL`
: **Description**: Specifies the OTLP transport protocol to use for metrics data. Takes precedence over the general `OTEL_EXPORTER_OTLP_PROTOCOL`. <br>
**Accepted values**: `grpc`, `http/protobuf`, `http/json`. <br>
**Default**: SDK-dependent. The Datadog SDK aims to match the default protocol of the corresponding official OpenTelemetry SDK for that language.

`OTEL_EXPORTER_OTLP_METRICS_ENDPOINT`
: **Description**: Specifies the URL for sending OTLP metrics data. Takes precedence over the general `OTEL_EXPORTER_OTLP_ENDPOINT`. <br>
**Default (gRPC)**: `http://localhost:4317`. <br>
**Default (HTTP)**: `http://localhost:4318/v1/metrics`. <br>
**Notes**: For HTTP protocols, the SDK will automatically append `/v1/metrics` if the general `OTEL_EXPORTER_OTLP_ENDPOINT` is used as a fallback.

`OTEL_EXPORTER_OTLP_METRICS_HEADERS`
: **Description**: Specifies a comma-separated list of key-value pairs to be used as headers on outgoing OTLP metrics requests (for example, `api-key=key,other-config=value`). Takes precedence over the general `OTEL_EXPORTER_OTLP_HEADERS`.

`OTEL_EXPORTER_OTLP_METRICS_TIMEOUT`
: **Description**: Specifies the timeout (in milliseconds) for a single outgoing OTLP metrics request. Takes precedence over the general `OTEL_EXPORTER_OTLP_TIMEOUT`. <br>
**Default**: `10000` (10s).

### Logs-specific OTLP configuration

`OTEL_EXPORTER_OTLP_LOGS_PROTOCOL`
: **Description**: Specifies the OTLP transport protocol for logs. Takes precedence over `OTEL_EXPORTER_OTLP_PROTOCOL`.
: **Accepted values**: `grpc`, `http/protobuf`, `http/json` <br>
: **Default**: SDK-dependent. The Datadog SDK aims to match the default protocol of the corresponding official OpenTelemetry SDK for that language.

`OTEL_EXPORTER_OTLP_LOGS_ENDPOINT`
: **Description**: Specifies the URL for sending OTLP logs. Takes precedence over `OTEL_EXPORTER_OTLP_ENDPOINT`.
: **Default (gRPC)**: `http://localhost:4317`
: **Default (HTTP)**: `http://localhost:4318/v1/logs`

`OTEL_EXPORTER_OTLP_LOGS_HEADERS`
: **Description**: Specifies a comma-separated list of key-value pairs to be used as headers on outgoing OTLP logs requests. Takes precedence over the general `OTEL_EXPORTER_OTLP_HEADERS`.

`OTEL_EXPORTER_OTLP_LOGS_TIMEOUT`
: **Description**: Specifies the timeout (in milliseconds) for a single outgoing OTLP logs request. Takes precedence over the general `OTEL_EXPORTER_OTLP_TIMEOUT`. <br>
**Default**: `10000` (10s).

## OpenTelemetry Metrics SDK configuration

Datadog SDKs support the following OpenTelemetry Metrics SDK options.

`OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE`
: **Description**: Specifies the aggregation `temporality` to use for each instrument kind. <br>
**Accepted values**: `Cumulative`, `Delta`, `LowMemory`. For more details, see the [OpenTelemetry specification][15]. <br>
**Default**: `delta` <br>
**Notes**: This default value `delta` is [Datadog's recommended configuration][16] and differs from the OpenTelemetry specification's default.

`OTEL_METRIC_EXPORT_INTERVAL`
: **Description**: Specifies the time interval (in milliseconds) between metric export attempts. <br>
**Default**: `10000` (10s) <br>
**Notes**: This default value is Datadog's recommended configuration and differs from the OpenTelemetry specification's default of 60000ms.

`OTEL_METRIC_EXPORT_TIMEOUT`
: **Description**: Specifies the maximum allowed time (in milliseconds) to collect and export metrics. <br>
**Default**: `7500` (7.5s) <br>
**Notes**: This default value is Datadog's recommended configuration and differs from the OpenTelemetry specification's default of 30000ms.

## OpenTelemetry Logs SDK configuration

Datadog SDKs support the following OpenTelemetry Logs SDK options.

`OTEL_LOGS_EXPORTER`
: **Description**: Specifies the logs exporter to be used. <br>
**Accepted values**: `otlp`, `none`. A value of `none` disables the emission of OTel logs. <br>
**Default**: `otlp`

`OTEL_BLRP_MAX_QUEUE_SIZE`
: **Description**: The maximum number of log records to hold in memory. New records are dropped when the limit is reached. <br>
**Default**: `2048`

`OTEL_BLRP_SCHEDULE_DELAY`
: **Description**: The time interval (in milliseconds) between two consecutive export operations. <br>
**Default**: `1000` (1s)

`OTEL_BLRP_EXPORT_TIMEOUT`
: **Description**: The maximum duration (in milliseconds) allowed for a single export before cancellation. <br>
**Default**: `30000` (30s)

`OTEL_BLRP_MAX_EXPORT_BATCH_SIZE`
: **Description**: The maximum number of log records in a single OTLP payload. <br>
**Default**: `512`

## Java-specific configuration
Datadog SDKs support the following Java-specific OpenTelemetry configuration options. For more information, see the [OpenTelemetry documentation on Java agent configuration][10].

`OTEL_INSTRUMENTATION_COMMON_DEFAULT_ENABLED`
: **Datadog convention**: `!DD_INTEGRATIONS_ENABLED` <br>
Set to `false` to disable all instrumentation in the Agent<br>
**Notes**: Mapped values between `OTEL_INSTRUMENTATION_COMMON_DEFAULT_ENABLED` & `DD_INTEGRATIONS_ENABLED`:<br>
  - `true`|`false`
  - `false`|`true`

`OTEL_INSTRUMENTATION_[NAME]_ENABLED`
: **Description**: Enables/disables the named OTel drop-in instrumentation<br>

`OTEL_JAVAAGENT_CONFIGURATION_FILE`
: **Datadog convention**: `DD_TRACE_CONFIG` <br>
Path to valid Java properties file which contains the agent configuration<br>
**Notes**: When OTEL_JAVAAGENT_CONFIGURATION_FILE and DD_TRACE_CONFIG are both set we apply the configuration from both files. This is an exception to the usual rule where the Datadog setting overrides the OTel one<br>

`OTEL_INSTRUMENTATION_HTTP_CLIENT_CAPTURE_REQUEST_HEADERS`
: **Datadog convention**: `DD_TRACE_REQUEST_HEADER_TAGS` <br>
A comma-separated list of HTTP header names. HTTP client instrumentations capture HTTP request header values for all configured header names<br>
**Notes**: Header tagging configured using OTel environment variables follows the OTel tag name convention of `http.request.header.<header-name>` rather than the Datadog convention of `http.request.headers.<header-name>`<br>

`OTEL_INSTRUMENTATION_HTTP_CLIENT_CAPTURE_RESPONSE_HEADERS`
: **Datadog convention**: `DD_TRACE_RESPONSE_HEADER_TAGS` <br>
A comma-separated list of HTTP header names. HTTP client instrumentations capture HTTP response header values for all configured header names<br>
**Notes**: Header tagging configured using OTel environment variables follows the OTel tag name convention of `http.response.header.<header-name>` rather than the Datadog convention of `http.response.headers.<header-name>`<br>

`OTEL_INSTRUMENTATION_HTTP_SERVER_CAPTURE_REQUEST_HEADERS`
: **Datadog convention**: `DD_TRACE_REQUEST_HEADER_TAGS` <br>
A comma-separated list of HTTP header names. HTTP server instrumentations capture HTTP request header values for all configured header names<br>
**Notes**: Header tagging configured using OTel environment variables follows the OTel tag name convention of `http.request.header.<header-name>` rather than the Datadog convention of `http.request.headers.<header-name>`<br>

`OTEL_INSTRUMENTATION_HTTP_SERVER_CAPTURE_RESPONSE_HEADERS`
: **Datadog convention**: `DD_TRACE_RESPONSE_HEADER_TAGS` <br>
A comma-separated list of HTTP header names. HTTP server instrumentations capture HTTP response header values for all configured header names<br>
**Notes**: Header tagging configured using OTel environment variables follows the OTel tag name convention of `http.response.header.<header-name>` rather than the Datadog convention of `http.response.headers.<header-name>`<br>

`OTEL_JAVAAGENT_EXTENSIONS`
: **Datadog convention**: `DD_TRACE_EXTENSIONS_PATH` <br>
A comma-separated list of paths to extension jar files, or folders containing jar files. If pointing to a folder, every jar file in that folder is treated as a separate, independent extension. <br>

## Further Reading

{{< partial name="whats-next/whats-next.html" >}}

[1]: /tracing/trace_collection/library_config/dotnet-core
[2]: /tracing/trace_collection/library_config/dotnet-framework
[3]: /tracing/trace_collection/library_config/go
[4]: /tracing/trace_collection/library_config/java
[5]: /tracing/trace_collection/library_config/nodejs
[6]: /tracing/trace_collection/library_config/php
[7]: /tracing/trace_collection/library_config/python
[8]: /tracing/trace_collection/library_config/ruby
[9]: https://opentelemetry.io/docs/specs/otel/configuration/SDK-environment-variables/#general-SDK-configuration
[10]: https://opentelemetry.io/docs/zero-code/java/agent/configuration/#configuring-the-agent
[11]: https://opentelemetry.io/docs/specs/semconv/resource/#semantic-attributes-with-dedicated-environment-variable
[12]: /tracing/trace_collection/library_config/_index
[13]: https://opentelemetry.io/docs/specs/otel/protocol/exporter/
[14]: /opentelemetry/instrument/api_support/
[15]: https://opentelemetry.io/docs/specs/otel/metrics/sdk_exporters/otlp/#additional-environment-variable-configuration
[16]: /opentelemetry/guide/otlp_delta_temporality/
