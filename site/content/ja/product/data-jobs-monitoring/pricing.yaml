description: Datadog Data Jobs Monitoring を使用して、データパイプライン全体の Spark と Databricks ジョブを監視。トラブルシューティングやコスト最適化もサポート
faq:
- a: Apache Spark を実行するために使用するプラットフォームに応じて、[Amazon EMR](https://docs.datadoghq.com/data_jobs/emr/)、[Databricks](https://docs.datadoghq.com/data_jobs/databricks/?tab=globalinitrecommended)、および/または
    [Kubernetes](https://docs.datadoghq.com/data_jobs/kubernetes/?tab=datadogoperator)
    のインストール手順に従ってください。DJM の仕組みについては、[ドキュメント](https://docs.datadoghq.com/data_jobs/)を参照してください。
  q: Data Jobs Monitoring (DJM) を設定する方法は？
- a: ジョブの実行トレースについては 90 日間、メトリクスについては 15 か月間。
  q: DJM データタイプのデフォルトの保持期間は？
- a: 'Datadog DJM は、1 ホスト、1 時間ごとに課金されます。これは、5 分ごとにインスツルメンテーションされたユニークホスト数をサンプリングし、それらのサンプルの平均を取ることによって、1
    時間あたりの平均ホスト数を使用します。


    <span class=''text-underline''>例</span>: 以下のような例が考えられます。<br/>

    午後 1 時 ～ 1 時 5 分: 100 台の DJM ホスト<br/>

    午後 1 時 5 分 ～ 1 時 10 分 : 300 台の DJM ホスト<br/>

    午後 1 時 10 分 ～ 1 時 15 分: 150 台の DJM ホスト<br/>

    午後 1 時 15 分 ～ 1 時 20 分: 50 台の DJM ホスト<br/>

    午後 1 時 20 分 ～ 2 時 (最後の 8 インターバル): 0 台の DJM ホスト


    1 時間における各 5 分間隔のユニークホストカウントの合計は、100 + 300 + 150 + 50 = 600 です。1 時間に 5 分間隔のインターバルが
    12 回あるため、この合計を 12 で割って平均を求めると、600 / 12 = 50 となります。


    この使用パターンを 1 日 1 回、30 日間続けたとします。この場合、月間の請求可能な DJM ホスト時間は 50 x 30 = 1,500 時間となります。

    '
  q: DJM の使用量はどのように計算され、どのように請求されますか？
- a: 'DJM ジョブの実行トレースにより、スパンの取り込みとスパンのインデックス化の使用量が発生するため、DJM ホストごとに 1 時間あたり割り当てられた
    0.205 GBの取り込みスパンと 1,370 のインデックス化スパンを超える追加料金が発生する場合があります。


    Kubernetes 上の Spark の DJM (K8s) はコンテナ監視の使用量としてカウントされ、ホストあたり DJM コンテナ 10 個が割り当てられます。


    DJM 使用時に Spark ログ収集 (オプション) を有効にすると、Datadog Log Management 経由で課金されます。

    '
  q: DJM を使用すると、他の Datadog 製品を使用することになりますか？
- a: いいえ、DJM が有効なホストはインフラストラクチャーモニタリングを必要とせず、インフラストラクチャーホストとして請求されません。
  q: DJM のホストもインフラストラクチャーのホストに含まれますか？
- a: DJM は AP、EU、米国のデータセンターでご利用いただけます。現在、GovCloud (米国) ではご利用いただけません。
  q: これはすべてのリージョンで利用可能ですか？
features:
  main:
  - ジョブおよびクラスターの健全性とパフォーマンスの概要
  - 失敗したジョブや長時間稼働しているジョブのアラート
  - ジョブの実行パフォーマンス傾向
  - ジョブの実行トレース＆メトリクス
  - 'リソース使用率メトリクス (例: CPU、メモリ、ディスク)'
  - ジョブおよびクラスターの推定コスト
  - カスタムダッシュボード
  - ユーザー無制限
name: データジョブのモニタリング
plans:
- key_points:
  - データパイプラインの任意の場所で問題のある Spark および Databricks ジョブを検出
  - 失敗したジョブや長時間稼働しているジョブを迅速に修復
  - オーバープロビジョニングされたコンピュートリソースを最適化してコストを削減
  price_helper1: / ホスト、1 時間*
  pricing_data_key: DJM-HOST-HR
pricing_nav_categories:
- Application
